// Validation
//
// Introduction:
// Dealing with errors can be one of the worst experiences using software. It’s super important we handle the situation well.
// Do everything in your power to avoid required fields, be flexible about input requirements, and be clear about what users need to do.
//
// Teaser: Prevent and deal with errors
//
//
// Styleguide: Compounds.CollectingInput.Forms.7




// Feedback on fields
//
// Add `xui-textinput-is-invalid`, or similar `-is-invalid` classname to controls to display their error state. For text input groups, if the problem is with a group, as a whole, add the class to all nested inputs. For Switches, adding `xui-switch-group-is-invalid` to the group wrapper will set the validity state for all children and messages. For Checkboxes and Radios, adding `xui-styledcheckboxradio-group-is-invalid` serves the same purpose.
//
// Always include a colour change, descriptive message, and an icon on the problematic input, so it’s still meaningful to people who can’t discern colour.
// * Position error text underneath the input
// * If there is no space below the input as it is in a group, position it at the bottom of the group in text form
// * If there is no space below the input, position it at the top of the input in a banner
// * If there is no space below the input, include an icon that can inherit focus that displays a tooltip with the full error message
//
// Tips:
// Do: Include the name of the field in the message
// Do: Add an explanation or example of correct input formats if something invalid is entered
// Do: Add the "status" aria role to inline validation messages
// Warning: Attempt to be flexible with the formats accepted rather than giving unnecessary errors
// Dont: Don't mark fields as invalid without an accompanying message
// Dont: Don't use vague error messages that don't suggest how to fix the problem
//
// exampleClass: ds-example-transparent ds-example-flush
//
// Markup:
// <div class="xui-field-layout">
//   <label class="xui-text-label xui-fieldlabel-layout" for="phone1">Phone number</label>
//   <input type="text" class="xui-textinput xui-textinput--input xui-textinput-is-invalid" aria-label="Text input"/>
//   <div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status">Phone number must be at least 9 digits</div>
// </div>
// <div class="xui-textinputwrapper xui-field-layout">
// 	<label class="xui-text-label xui-fieldlabel-layout" for="textarea-1">Description</label>
// 	<div class="xui-textinput xui-textinput-medium xui-textinput-is-invalid">
// 		<textarea type="text" class="xui-textinput--input xui-textinput--input-medium xui-textinput--input-resize-none" aria-invalid="true" aria-describedby="textarea-1-message" id="textarea-1" rows="2"></textarea>
// 	</div>
// 	<div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status" id="textarea-1-message">Please provide a description</div>
// </div>
// <div class="xui-field-layout">
//	 <label id="name-label" class="xui-text-label xui-fieldlabel-layout">Title and full name</label>
//   <div class="xui-textinputgroup">
//     <input class="xui-textinput xui-textinput--input xui-column-2-of-12 xui-textinput-is-invalid" placeholder="Dr" name="title" aria-labelledby="name-label" />
//     <input class="xui-textinput xui-textinput--input xui-column-5-of-12 xui-textinput-is-invalid" placeholder="Sue" name="given-name" aria-labelledby="name-label" />
//     <input class="xui-textinput xui-textinput--input xui-column-5-of-12 xui-textinput-is-invalid" placeholder="Storm" name="surname" aria-labelledby="name-label" />
//   </div>
// 	 <div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status">Please provide a title, given name, and surname</div>
// </div>
// <div role="combobox" aria-expanded="false" class="xui-field-layout" data-ref="toggled-wrapper">
// 	<div aria-haspopup="listbox">
// 		<div class="xui-autocompleter--textinputplaceholder" aria-hidden="true"></div>
// 		<div class="xui-textinputwrapper">
// 			<label class="xui-text-label xui-fieldlabel-layout" for="autocompleter-control">Contacts</label>
// 			<div class="xui-autocompleter--trigger-pillwrap xui-textinput xui-textinput-medium xui-textinput-is-invalid">
// 				<div class="xui-autocompleter--pill xui-pill xui-pill-small xui-pill-is-deletable">
// 					<span class="xui-pill--content">
// 						<span class="xui-pill--text">Frida</span>
// 					</span>
// 					<button title="Delete" aria-label="Delete" class="xui-button xui-pill--button-icon xui-button-icon xui-button-icon-small" tabindex="0" type="button">
// 						<svg focusable="false" class="xui-icon" width="7" height="7" viewBox="0 0 7 7">
// 							<path d="M4.25 3.5L7 6.25 6.25 7 3.5 4.25.75 7 0 6.25 2.75 3.5 0 .75.75 0 3.5 2.75 6.25 0 7 .75 4.25 3.5z" role="presentation"></path>
// 						</svg>
// 					</button>
// 				</div>
// 				<input id="autocompleter-control" role="textbox" aria-multiline="false" aria-autocomplete="list" class="xui-autocompleter--textinput xui-textinput--input xui-textinput--input-medium" placeholder="" aria-invalid="true" value="" aria-describedby="autocompleter-message" style="flex-basis: 28px;">
// 			</div>
// 			<div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status" id="autocompleter-message">Contacts must match certain criteria</div>
// 		</div>
// 	</div>
// </div>
// <div class="xui-field-layout">
// 	<label class="xui-text-label xui-fieldlabel-layout" for="selectbox1-control">Favourite book</label>
// 	<div class="xui-select-layout xui-select-is-invalid">
// 		<div role="presentation" data-ref="toggled-wrapper">
// 			<button aria-haspopup="listbox" class="xui-button xui-select--button xui-select--button-no-variant xui-button-standard xui-button-medium xui-button-fullwidth" tabindex="0" type="button">
// 				<span class="xui-select--content xui-select--content-truncated">
// 					<span class="xui-u-flex">
// 						<svg focusable="false" class="xui-icon xui-margin-right-xsmall" width="19" height="14" viewBox="0 0 19 14">
// 							<path d="M17.546 4.062v3.854H16.54V4.417l-6.094 2.15c-.522.185-1.365.187-1.892 0L.389 3.688c-.523-.185-.527-.483 0-.668L8.554.137c.522-.184 1.365-.186 1.892 0l8.165 2.882c.523.184.527.481 0 .667l-1.065.376zM15.534 6.8v4.158C15.534 14 9.5 14 9.5 14s-6.034 0-6.034-3.042V6.8l5.088 1.796c.527.186 1.37.184 1.892 0L15.534 6.8z" role="presentation"></path>
// 						</svg>
// 						Choose a classic book
// 					</span>
// 				</span>
// 				<svg focusable="false" class="xui-icon xui-select--caret xui-button--caret" width="10" height="5" viewBox="0 0 10 5">
// 					<title>Toggle List</title>
// 					<path d="M0 0l5 5 5-5z" role="presentation"></path>
// 				</svg>
// 			</button>
// 		</div>
// 	</div>
// 	<div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status" id="selectbox1-message">Invalid favourite book</div>
// </div>
// <div class="xui-row-grid">
// <div class="xui-column-4-of-12 xui-field-layout">
// 	<span class="xui-text-label xui-fieldlabel-layout" id="radio-group1">Fishes</span>
// 	<div class="xui-styledcheckboxradio-group xui-styledcheckboxradio-group-is-invalid" role="radiogroup" aria-invalid="true" aria-labelledby="radio-group1" aria-describedby="radio-group1-message">
// 		<label class="xui-styledcheckboxradio" role="presentation">
// 			<input role="radio" aria-checked="false" class="xui-styledcheckboxradio--input xui-styledcheckboxradio--input-small" type="radio" name="rg0" aria-labelledby="radio-label-1" value="">
// 			<div class="xui-styledcheckboxradio--radio xui-styledcheckboxradio--radio-small"></div>
// 			<span class="xui-styledcheckboxradio--label xui-styledcheckboxradio--label-small" id="radio-label-1">Moki</span>
// 		</label>
// 		<label class="xui-styledcheckboxradio" role="presentation">
// 			<input role="radio" aria-checked="false" class="xui-styledcheckboxradio--input xui-styledcheckboxradio--input-small" type="radio" name="rg0" aria-labelledby="radio-label-2" value="">
// 			<div class="xui-styledcheckboxradio--radio xui-styledcheckboxradio--radio-small"></div>
// 			<span class="xui-styledcheckboxradio--label xui-styledcheckboxradio--label-small" id="radio-label-2">Tarakihi</span>
// 		</label>
// 		<label class="xui-styledcheckboxradio" role="presentation">
// 			<input role="radio" aria-checked="false" class="xui-styledcheckboxradio--input xui-styledcheckboxradio--input-small" type="radio" name="rg0" aria-labelledby="radio-label-3" value="">
// 			<div class="xui-styledcheckboxradio--radio xui-styledcheckboxradio--radio-small"></div>
// 			<span class="xui-styledcheckboxradio--label xui-styledcheckboxradio--label-small" id="radio-label-3">Warehou</span>
// 		</label>
// 	</div>
// 	<div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status" id="radio-group1-message">Select one fish</div>
// </div>
// <div class="xui-column-4-of-12 xui-field-layout">
// 	<span class="xui-text-label xui-fieldlabel-layout" id="checkbox-group1">Birds</span>
// 	<div class="xui-styledcheckboxradio-group xui-styledcheckboxradio-group-is-invalid" aria-invalid="true" aria-labelledby="checkbox-group1" aria-describedby="checkbox-group1-message">
// 		<label class="xui-styledcheckboxradio" role="presentation">
// 			<input type="checkbox" aria-labelledby="checkbox-label-1" class="xui-styledcheckboxradio--input xui-styledcheckboxradio--input-small" value="">
// 			<div class="xui-styledcheckboxradio--checkbox xui-styledcheckboxradio--checkbox-small"></div>
// 			<span class="xui-styledcheckboxradio--label xui-styledcheckboxradio--label-small" id="checkbox-label-1">Kakapo</span>
// 		</label>
// 		<label class="xui-styledcheckboxradio" role="presentation">
// 			<input type="checkbox" aria-labelledby="checkbox-label-2" class="xui-styledcheckboxradio--input xui-styledcheckboxradio--input-small" value="">
// 			<div class="xui-styledcheckboxradio--checkbox xui-styledcheckboxradio--checkbox-small"></div>
// 			<span class="xui-styledcheckboxradio--label xui-styledcheckboxradio--label-small" id="checkbox-label-2">Weka</span>
// 		</label>
// 		<label class="xui-styledcheckboxradio xui-styledcheckboxradio-is-disabled" role="presentation">
// 			<input type="checkbox" disabled="" aria-labelledby="checkbox-label-3" class="xui-styledcheckboxradio--input xui-styledcheckboxradio--input-small" value="">
// 			<div class="xui-styledcheckboxradio--checkbox xui-styledcheckboxradio--checkbox-small"></div>
// 			<span class="xui-styledcheckboxradio--label xui-styledcheckboxradio--label-small" id="checkbox-label-3">Kea</span>
// 		</label>
// 	</div>
// 	<div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status" id="checkbox-group1-message">Select at least one bird</div>
// </div>
// 	<div class="xui-column-4-of-12 xui-field-layout">
// 		<span class="xui-text-label xui-fieldlabel-layout" id="switch-group1">Preferences</span>
// 		<div class="xui-switch-group xui-switch-group-is-invalid" aria-invalid="true" aria-labelledby="switch-group1" aria-describedby="switch-group1-message">
// 			<label class="xui-switch xui-switch-medium xui-switch-reversed" role="presentation">
// 				<input type="checkbox" role="switch" class="xui-switch--checkbox" aria-checked="true" aria-labelledby="switch-label-1" value="" checked="">
// 				<div class="xui-switch--control xui-switch--control-medium"></div>
// 				<span class="xui-switch--label" id="switch-label-1">Preference 1</span>
// 			</label>
// 			<label class="xui-switch xui-switch-medium xui-switch-reversed xui-switch-is-disabled" role="presentation">
// 				<input type="checkbox" role="switch" class="xui-switch--checkbox" disabled="" aria-checked="false" aria-labelledby="switch-label-2" value="">
// 				<div class="xui-switch--control xui-switch--control-medium"></div>
// 				<span class="xui-switch--label" id="switch-label-2">Preference 2</span>
// 			</label>
// 			<label class="xui-switch xui-switch-medium xui-switch-reversed" role="presentation">
// 				<input type="checkbox" role="switch" class="xui-switch--checkbox" aria-checked="false" aria-labelledby="switch-label-3" value="">
// 				<div class="xui-switch--control xui-switch--control-medium"></div>
// 				<span class="xui-switch--label" id="switch-label-3">Preference 3</span>
// 			</label>
// 		</div>
// 		<div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status" id="switch-group1-message">Preferences invalid</div>
// 	</div>
// </div>
// <div class="xui-u-fullwidth xui-field-layout">
// 	<span class="xui-text-label xui-fieldlabel-layout" id="toggle1">Choose a day</span>
// 	<div role="group" class="xui-toggle xui-toggle-is-invalid xui-toggle-fullwidth-layout xui-toggle-medium" aria-invalid="true" aria-labelledby="toggle1" aria-describedby="toggle1-message">
// 		<label class="xui-toggle-option" role="presentation">
// 			<input class="xui-toggle--input" name="tg10" type="checkbox" aria-labelledby="toggle-label-1" value="toggle1" />
// 			<span class="xui-toggle--label" id="toggle-label-1">M</span>
// 		</label>
// 		<label class="xui-toggle-option" role="presentation">
// 			<input class="xui-toggle--input" name="tg10" type="checkbox" aria-labelledby="toggle-label-2" value="toggle2" />
// 			<span class="xui-toggle--label" id="toggle-label-2">Tu</span>
// 		</label>
// 		<label class="xui-toggle-option xui-toggle-is-disabled" role="presentation">
// 			<input class="xui-toggle--input" disabled="" name="tg10" type="checkbox" aria-labelledby="toggle-label-3" value="toggle3">
// 			<span class="xui-toggle--label" id="toggle-label-3">W</span>
// 		</label>
// 	</div>
// 	<div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status" id="toggle1-message">Day must be selected</div>
// </div>
// <div class="xui-field-layout" role="presentation">
// 	<label class="xui-text-label xui-fieldlabel-layout" for="range1-control">Rate your experience</label>
// 	<div class="xui-rangeslider-container">
// 		<input id="range1-control" class="xui-rangeslider xui-rangeslider-thumb-medium xui-rangeslider-is-invalid" type="range" aria-invalid="true" aria-describedby="range1-message" value="">
// 	</div>
// 	<div class="xui-validation xui-validation-layout xui-validation-is-invalid" role="status" id="range1-message">Rating is invalid, given the circumstances</div>
// </div>
//
// Styleguide: Compounds.CollectingInput.Forms.7.1

// When to validate
//
// Tips:
// Do: Validate when the user's focus leaves a field in an invalid state
// Do: Validate whether required fields are completed on submit
// Warning: Carefully consider whether it's helpful to warn the user that a field is required before submitting (they may decide to complete harder fields later)
// Dont: Don't validate fields on key press
//
// Styleguide: Compounds.CollectingInput.Forms.7.4


// Feedback in modals
//
// Identifying errors on submission of complex, non-linear documents can sometimes be tricky. Use a small modal dialog to provide feedback _and_ capture the information.
//
// exampleClass: ds-example-flush ds-example-transparent
//
// Markup:
// <div class="xui-mask xui-mask-is-active" aria-hidden="false">
// 	<section class="xui-modal xui-modal-layout" tabindex="0" role="dialog">
// 		<header class="xui-modal--header">
// 			<div class='xui-modal--heading'>Almost there, we just need a contact</div>
// 			<button title="Close" class="xui-modal--close xui-button xui-button-icon xui-button-icon-small tabindex="0" type="button">
// 				<svg focusable="false" class="xui-icon">
// 					<use xlink:href="#xui-icon-cross" role="presentation"/>
// 				</svg>
// 			</button>
// 		</header>
// 		<div class="xui-modal--body">
// 			<div class="xui-textinputwrapper">
// 				<input type="text" class="xui-textinput xui-textinput--input" placeholder="Contact name" aria-label="Contact name">
// 			</div>
// 		</div>
// 		<footer class="xui-modal--footer xui-actions xui-actions-layout">
// 			<button class="xui-button xui-actions--primary xui-button-medium xui-button-main xui-button-is-disabled" tabindex="0" type="button">Send</button>
// 			<button class="xui-button xui-actions--secondary xui-button-medium xui-button-standard" tabindex="0" type="button">Cancel</button>
// 		</footer>
// 	</section>
// </div>
//
//
// Styleguide: Compounds.CollectingInput.Forms.7.2




// Other feedback options
//
// Tips:
// Do: Add an error message or banner at the top of a form with an "alert" aria role if a user submits a form with validation errors
// Dont: Avoid using banners with lists of errors that users must then hunt down
// Warning: Only prevent submission if fields are few and requirements very clear
//
// Styleguide: Compounds.CollectingInput.Forms.7.3


// Classes:
// xui-validation: Used to style text below inputs (to clarify format or provide supporting info)
// xui-validation-layout: Recommended layout for text below inputs
// xui-validation-is-invalid: Modifier for text below inputs that are in an error state
