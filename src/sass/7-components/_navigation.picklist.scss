@import "../vars";
@import "../mixins";

// Picklist
//
// Teaser: A list of actions, filters or tabs.
//
// Introduction: Picklists are used to group a list of actions, filters or tabs.
//
// Components: Picklist
//
// Styleguide: Compounds.DisplayingData.Picklist

// Anatomy
//
// To create a group of pickitems, apply the following `picklist` and `pickitem` classes to `<ul>` and `<li>` elements, respectively.
//
// Classes:
// xui-picklist: Container for a group of pickitems
// xui-picklist-layout: Recommended layout for a group of pickitems
// xui-pickitem: Container for an individual pickitem
// xui-pickitem--body: A selectable pickitem
// xui-pickitem--text: Text content within a pickitem
//
// Markup:
// <div class='xui-panel'>
//  <ul class="xui-picklist xui-picklist-layout" role="tree">
//    <li class="xui-pickitem" role="treeitem" tabindex="-1" >
//      <button type="button" class="xui-pickitem--body">
//        <span class="xui-pickitem--text">Save</span>
//      </button>
//    </li>
//    <li class="xui-pickitem" role="treeitem" tabindex="-1" >
//      <button type="button" class="xui-pickitem--body">
//        <span class="xui-pickitem--text">Save & add another</span>
//      </button>
//    </li>
//    <li class="xui-pickitem" role="treeitem" tabindex="-1" >
//      <button type="button" class="xui-pickitem--body">
//        <span class="xui-pickitem--text">Discard draft</span>
//      </button>
//    </li>
//  </ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.1

// Selecting
//
// To indicate a pickitem has been selected, apply the following modifier.
//
// Classes:
// xui-pickitem-is-selected: Apply to item
//
// Markup:
// <div class='xui-panel'>
//   <ul class="xui-picklist xui-picklist-layout" role="tree">
//     <li class="xui-pickitem" role="treeitem" tabindex="-1" >
//       <button type="button" class="xui-pickitem--body">
//         <span class="xui-pickitem--text">Status</span>
//       </button>
//     </li>
//     <li class="xui-pickitem xui-pickitem-is-selected" role="treeitem" tabindex="-1" >
//       <button type="button" class="xui-pickitem--body">
//         <span class="xui-pickitem--text">Date</span>
//       </button>
//     </li>
//     <li class="xui-pickitem" role="treeitem" tabindex="-1" >
//       <button type="button" class="xui-pickitem--body">
//         <span class="xui-pickitem--text">Amount</span>
//       </button>
//     </li>
//   </ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.2


// Changing direction
//
// To create a horizontal picklist, commonly referred to as tabs, apply the following modifier.
// We also recommend removing `xui-picklist-layout` to allow pickitems to stretch the full height or their containing element.
//
// Classes:
// xui-picklist-horizontal: Apply to picklist
//
// Markup:
// <div class='xui-panel'>
//   <div class='xui-panel--header xui-u-flex'>
//     <ul class="xui-picklist xui-picklist-horizontal" role="tree">
//       <li class="xui-pickitem" role="treeitem" tabindex="-1" >
//         <button type="button" class="xui-pickitem--body">
//           <span class="xui-pickitem--text">All</span>
//         </button>
//       </li>
//       <li class="xui-pickitem xui-pickitem-is-selected" role="treeitem" tabindex="-1" >
//         <button type="button" class="xui-pickitem--body">
//           <span class="xui-pickitem--text">Current</span>
//         </button>
//       </li>
//       <li class="xui-pickitem" role="treeitem" tabindex="-1" >
//         <button type="button" class="xui-pickitem--body">
//           <span class="xui-pickitem--text">History</span>
//         </button>
//       </li>
//     </ul>
//   </div>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.3

// Truncating
//
// The default behaviour of pickitem text is to wrap.
// To prevent wrapping, apply the following utility class.
//
// Classes:
// xui-text-truncated: Apply to pickitem text
//
// Styleguide: Compounds.DisplayingData.Picklist.4

// Common layouts
//
// Many different layouts are achievable by adding a few typography presets and utility classes.
//
// Styleguide: Compounds.DisplayingData.Picklist.6

// Headings
//
// Classes:
// xui-text-minor: Apply to heading
//
// Markup:
// <div class='xui-panel'>
//   <ul class="xui-picklist xui-picklist-layout" role="tree" aria-labelledby="recent">
//     <li id="recent" class="xui-margin-vertical-xsmall xui-padding-horizontal-large xui-text-minor xui-text-truncated">
//       Recent
//     </li>
//     <li class="xui-pickitem" role="treeitem">
//       <button type='button' class="xui-pickitem--body">
//         <span class="xui-pickitem--text xui-text-truncated">
//           302 — Entertainment
//         </span>
//       </button>
//     </li>
//     <li class="xui-pickitem" role="treeitem">
//       <button type='button' class="xui-pickitem--body">
//         <span class="xui-pickitem--text xui-text-truncated">
//           440 — Overseas Travel
//         </span>
//       </button>
//     </li>
//     <li class="xui-pickitem" role="treeitem">
//       <button type='button' class="xui-pickitem--body">
//         <span class="xui-pickitem--text xui-text-truncated">
//           301 — Office Supplies
//         </span>
//       </button>
//     </li>
//   </ul>
//   <ul class="xui-picklist xui-picklist-layout" role="tree" aria-labelledby="all">
//     <li id="all" class="xui-margin-vertical-xsmall xui-padding-horizontal-large xui-text-minor xui-text-truncated">
//       All
//     </li>
//     <li class="xui-pickitem" role="treeitem">
//       <button type='button' class="xui-pickitem--body">
//         <span class="xui-pickitem--text xui-text-truncated">
//           300 — Sales
//         </span>
//       </button>
//     </li>
//     <li class="xui-pickitem" role="treeitem">
//       <button type='button' class="xui-pickitem--body">
//         <span class="xui-pickitem--text xui-text-truncated">
//           400 — Expenses
//         </span>
//       </button>
//     </li>
//     <li class="xui-pickitem" role="treeitem">
//       <button type='button' class="xui-pickitem--body">
//         <span class="xui-pickitem--text xui-text-truncated">
//           500 — Fixed assets
//         </span>
//       </button>
//     </li>
//   </ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.6.1

// Icon
//
// Classes:
// xui-pickitem--icon: Apply to icon
//
// Markup:
// <div class='xui-panel'>
//   <ul class="xui-picklist xui-picklist-layout" role="tree">
//     <li class="xui-pickitem" role="treeitem">
//       <div class="xui-iconwrapper xui-pickitem--icon">
//         <svg focusable="false" class="xui-icon xui-icon-color-black-muted">
//           <use xlink:href="#xui-icon-plus" role="presentation"></use>
//         </svg>
//       </div>
//       <span class="xui-pickitem--body">
//         <span class="xui-pickitem--text">
//           Create new
//         </span>
//       </span>
//     </li>
//     <li class="xui-pickitem" role="treeitem">
//       <div class="xui-iconwrapper xui-pickitem--icon">
//         <svg focusable="false" class="xui-icon xui-icon-color-black-muted">
//           <use xlink:href="#xui-icon-help" role="presentation"></use>
//         </svg>
//       </div>
//       <span class="xui-pickitem--body">
//         <span class="xui-pickitem--text xui-text-truncated">
//           Help
//         </span>
//       </span>
//     </li>
//   </ul>
//   <ul class="xui-picklist xui-picklist-layout" role="tree">
//     <li class="xui-pickitem" role="treeitem">
//       <div class="xui-iconwrapper xui-pickitem--icon">
//         <svg focusable="false" class="xui-icon xui-icon-color-black-muted">
//           <use xlink:href="#xui-icon-lock" role="presentation"></use>
//         </svg>
//       </div>
//       <span class="xui-pickitem--body">
//         <span class="xui-pickitem--text xui-text-truncated">
//           Logout
//         </span>
//       </span>
//     </li>
//   </ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.6.2

// Nested parent
//
// Classes:
// xui-text-secondary: Apply to secondary content
// xui-icon-color-black-muted: Apply to icon
//
// Markup:
// <div class='xui-panel'>
// 	<ul class="xui-picklist xui-picklist-layout" role="tree">
// 		<li class="xui-pickitem" role="treeitem" tabindex="-1" >
// 			<button type="button" class="xui-pickitem--body">
// 				<span class="xui-pickitem--text xui-text-truncated">
// 					<span>Status</span>
// 					<span class="xui-text-secondary xui-margin-left-small">Draft, Sent</span>
// 				</span>
// 				<div class="xui-iconwrapper xui-margin-right-small">
// 					<svg focusable="false" class="xui-icon xui-icon-rotate-270 xui-icon-color-black-muted">
// 						<use xlink:href="#xui-icon-arrow" role="presentation"></use>
// 					</svg>
// 				</div>
// 			</button>
// 		</li>
// 		<li class="xui-pickitem" role="treeitem" tabindex="-1" >
// 			<button type="button" class="xui-pickitem--body">
// 				<span class="xui-pickitem--text xui-text-truncated">
// 					<span>Date range</span>
// 					<span class="xui-text-secondary xui-margin-left-small">1 Apr 2016 — 31 Mar 2017</span>
// 				</span>
// 				<div class="xui-iconwrapper xui-margin-right-small">
// 					<svg focusable="false" class="xui-icon xui-icon-rotate-270 xui-icon-color-black-muted">
// 						<use xlink:href="#xui-icon-arrow" role="presentation"></use>
// 					</svg>
// 				</div>
// 			</button>
// 		</li>
// 		<li class="xui-pickitem" role="treeitem" tabindex="-1" >
// 			<button type="button" class="xui-pickitem--body">
// 				<span class="xui-pickitem--text xui-text-truncated">
// 					<span>Created by</span>
// 					<span class="xui-text-secondary xui-margin-left-small">Kirk Holloway +2 others</span>
// 				</span>
// 				<div class="xui-iconwrapper xui-margin-right-small">
// 					<svg focusable="false" class="xui-icon xui-icon-rotate-270 xui-icon-color-black-muted">
// 						<use xlink:href="#xui-icon-arrow" role="presentation"></use>
// 					</svg>
// 				</div>
// 			</button>
// 		</li>
// 	</ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.6.3

// Pinned value
//
// Classes:
// xui-text-secondary: Apply to pinned value
// xui-u-flex-inherit: Apply to pickitem text
//
// Markup:
// <div class='xui-panel'>
// 	<ul class="xui-picklist xui-picklist-layout" role="tree">
// 		<li class="xui-pickitem" role="treeitem" tabindex="-1" >
// 			<button type="button" class="xui-pickitem--body">
// 				<span class="xui-pickitem--text xui-u-flex-inherit">
// 					<span class="xui-u-flex-1 xui-text-truncated">Draft</span>
// 					<span class="xui-text-secondary xui-padding-left-small">18</span>
// 				</span>
// 			</button>
// 		</li>
// 		<li class="xui-pickitem" role="treeitem" tabindex="-1" >
// 			<button type="button" class="xui-pickitem--body">
// 				<span class="xui-pickitem--text xui-u-flex-inherit">
// 					<span class="xui-u-flex-1 xui-text-truncated">Sent</span>
// 					<span class="xui-text-secondary xui-padding-left-small">3</span>
// 				</span>
// 			</button>
// 		</li>
// 		<li class="xui-pickitem" role="treeitem" tabindex="-1" >
// 			<button type="button" class="xui-pickitem--body">
// 				<span class="xui-pickitem--text xui-u-flex-inherit">
// 					<span class="xui-u-flex-1 xui-text-truncated">Paid</span>
// 					<span class="xui-text-secondary xui-padding-left-small">42</span>
// 				</span>
// 			</button>
// 		</li>
// 	</ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.6.4

// Checkbox
//
// Classes:
// xui-pickitem--input: Apply to the checkbox
// xui-pickitem-multiselect--label: Apply to pickitem text
//
// Markup:
// <div class='xui-panel'>
// 	<ul class="xui-picklist xui-picklist-layout" role="group">
// 		<li class="xui-pickitem xui-pickitem-multiselect" role="option">
// 			<div class="xui-pickitem--body">
// 				<label class="xui-pickitem-multiselect--checkbox xui-styledcheckboxradio" for="discount">
// 					<input type="checkbox" class="xui-styledcheckboxradio--input" id="discount">
// 					<div class="xui-styledcheckboxradio--checkbox xui-pickitem--input"></div>
// 					<span class="xui-styledcheckboxradio--label xui-pickitem-multiselect--label">
//						<span>Discount</span>
// 					</span>
// 				</label>
// 			</div>
// 		</li>
// 		<li class="xui-pickitem xui-pickitem-multiselect" role="option">
// 			<div class="xui-pickitem--body">
// 				<label class="xui-pickitem-multiselect--checkbox xui-styledcheckboxradio" for="reference">
// 					<input type="checkbox" class="xui-styledcheckboxradio--input" id="reference">
// 					<div class="xui-styledcheckboxradio--checkbox xui-pickitem--input"></div>
// 					<span class="xui-styledcheckboxradio--label xui-pickitem-multiselect--label">
//						<span>Reference</span>
// 					</span>
// 				</label>
// 			</div>
// 		</li>
// 		<li class="xui-pickitem xui-pickitem-multiselect" role="option">
// 			<div class="xui-pickitem--body">
// 				<label class="xui-pickitem-multiselect--checkbox xui-styledcheckboxradio" for="quantity">
// 					<input type="checkbox" class="xui-styledcheckboxradio--input" id="quantity">
// 					<div class="xui-styledcheckboxradio--checkbox xui-pickitem--input"></div>
// 					<span class="xui-styledcheckboxradio--label xui-pickitem-multiselect--label">
//						<span>Quantity</span>
// 					</span>
// 				</label>
// 			</div>
// 		</li>
// 	</ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.6.5

// Avatar
//
// Classes:
// xui-avatar-small: Apply to avatar
//
// Markup:
// <div class='xui-panel'>
// 	<ul class="xui-picklist xui-picklist-layout" role="tree">
// 		<li class="xui-pickitem" role="treeitem">
// 			<button type="button" class="xui-pickitem--body">
// 				<abbr class="xui-avatar xui-avatar-small xui-avatar-color-8 xui-margin-right">JM</abbr>
// 				<span class="xui-pickitem--text xui-text-truncated">James Magness</span>
// 			</button>
// 		</li>
// 		<li class="xui-pickitem" role="treeitem">
// 			<button type="button" class="xui-pickitem--body">
// 				<abbr class="xui-avatar xui-avatar-small xui-avatar-color-5 xui-margin-right">KH</abbr>
// 				<span class="xui-pickitem--text xui-text-truncated">Kirk Holloway</span>
// 			</button>
// 		</li>
// 		<li class="xui-pickitem" role="treeitem">
// 			<button type="button" class="xui-pickitem--body">
// 				<abbr class="xui-avatar xui-avatar-small xui-avatar-color-2 xui-margin-right">FP</abbr>
// 				<span class="xui-pickitem--text xui-text-truncated">Fay Pickering</span>
// 			</button>
// 		</li>
// 	</ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.6.6

// Multine avatar
//
// Classes:
// xui-text-emphasis: Apply to primary content
// xui-text-secondary: Apply to secondary content
//
// Markup:
// <div class='xui-panel'>
// 	<ul class="xui-picklist xui-picklist-layout" role="tree">
// 		<li class="xui-pickitem" role="treeitem" tabindex="-1" >
// 			<button type="button" class="xui-pickitem--body">
// 				<abbr class="xui-avatar xui-avatar xui-avatar-color-8 xui-margin-right-small">JM</abbr>
// 				<span class="xui-pickitem--text xui-u-overflow-hidden xui-u-flex xui-u-flex-column">
// 					<span class="xui-text-emphasis xui-text-truncated">James Magness</span>
// 					<span class="xui-text-secondary xui-text-truncated">james.magness@xero.com</span>
// 				</span>
// 			</button>
// 		</li>
// 		<li class="xui-pickitem" role="treeitem" tabindex="-1" >
// 			<button type="button" class="xui-pickitem--body">
// 				<abbr class="xui-avatar xui-avatar xui-avatar-color-5 xui-margin-right-small">KH</abbr>
// 				<span class="xui-pickitem--text xui-u-overflow-hidden xui-u-flex xui-u-flex-column">
// 					<span class="xui-text-emphasis xui-text-truncated">Kirk Holloway</span>
// 					<span class="xui-text-secondary xui-text-truncated">kirk.holloway@xero.com</span>
// 				</span>
// 			</button>
// 		</li>
// 		<li class="xui-pickitem" role="treeitem" tabindex="-1" >
// 			<button type="button" class="xui-pickitem--body">
// 				<abbr class="xui-avatar xui-avatar xui-avatar-color-2 xui-margin-right-small">FP</abbr>
// 				<span class="xui-pickitem--text xui-u-overflow-hidden  xui-u-flex xui-u-flex-column">
// 					<span class="xui-text-emphasis xui-text-truncated">Fay Pickering</span>
// 					<span class="xui-text-secondary xui-text-truncated">fay.pickering@xero.com</span>
// 				</span>
// 			</button>
// 		</li>
// 	</ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.6.7

// Expanding lists
//
// To hide and show a list of sub pickitems, apply the following classes.
//
// Classes:
// xui-picklist--nestedcontainer: Apply to expanding pickitem
// xui-pickitem--submenucontrol: Apply to checkbox that opens and closes nested list
// xui-submenu-uicontrol--label: Apply to label to extend hit-area of hidden checkbox
// xui-submenu-uicontrol--icon: Apply to icon nested within label
// xui-submenu: Container for a group of nested pickitems
// xui-submenu-layout: Recommended layout modifier for a group of pickitems
//
// Styleguide: Compounds.DisplayingData.Picklist.8

// Standard
//
// Tips:
// Do: If the parent pickitem does not have a destination, the whole row toggles visibility of children pickitems.
//
// Markup:
// <div class="xui-panel">
// 	<ul class="xui-picklist xui-picklist-layout" role="tree">
// 		<li class="xui-picklist--nestedcontainer" role="treeitem" aria-expanded="false">
// 			<input id="nested-checkbox" type="checkbox" class="xui-pickitem--submenucontrol" aria-owns="nested" value="on" tabindex="-1">
// 			<label for="nested-checkbox" class="xui-submenu-uicontrol--label xui-pickitem--body" title="Open or close the menu" role="button" aria-label="Open or close the menu" tabindex="-1">
// 				<span class="xui-pickitem--text">Accounts</span>
// 				<div class="xui-iconwrapper xui-submenu-uicontrol--icon">
// 					<svg focusable="false" class="xui-icon">
// 						<use xlink:href="#xui-icon-arrow" role="presentation"></use>
// 					</svg>
// 				</div>
// 			</label>
// 			<ul id="nested" class="xui-submenu xui-submenu-layout" role="group">
// 				<li class="xui-pickitem" role="option">
// 					<button type="button" class="xui-pickitem--body" tabindex="-1">
// 						<span class="xui-pickitem--text">Sales</span>
// 					</button>
// 				</li>
// 				<li class="xui-pickitem xui-pickitem-is-selected" role="option">
// 					<button type="button" class="xui-pickitem--body" tabindex="-1">
// 						<span class="xui-pickitem--text">Purchases</span>
// 					</button>
// 				</li>
// 				<li class="xui-pickitem" aria-selected="false" role="option">
// 					<button type="button" class="xui-pickitem--body" tabindex="-1">
// 						<span class="xui-pickitem--text">Expenses</span>
// 					</button>
// 				</li>
// 			</ul>
// 		</li>
// 	</ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.8.1

// Split
//
// Tips:
// Do: If the parent pickitem can be selected separately from it's children, the row selects it, and a separate control toggles visibility of children pickitems
//
// Classes:
// xui-pickitem-split: Add to pickitem
//
// Markup:
// <div class="xui-panel">
// 	<ul class="xui-picklist xui-picklist-layout" role="tree">
// 		<li class="xui-picklist--nestedcontainer" role="treeitem" aria-expanded="false">
// 			<input id="split-checkbox" type="checkbox" class="xui-pickitem--submenucontrol" tabindex="-1"/>
// 			<div class="xui-pickitem xui-pickitem-multiselect xui-pickitem-split" id="splitTrigger">
// 				<div class="xui-pickitem--body">
// 					<label class="xui-pickitem-multiselect--checkbox xui-styledcheckboxradio">
// 						<input type="checkbox" tabindex="-1" class="xui-styledcheckboxradio--input checked" tabindex="-1" checked>
// 						<div class="xui-styledcheckboxradio--checkbox xui-pickitem--input"></div>
// 						<span class="xui-styledcheckboxradio--label xui-pickitem-multiselect--label">
// 							<span>Staff</span>
// 						</span>
// 					</label>
// 				</div>
// 			</div>
// 		<label for="split-checkbox" class="xui-submenu-uicontrol" title="Show or hide more options" aria-label="Show or hide more options" tabindex="-1" >
// 			<div class="xui-iconwrapper xui-submenu-uicontrol--icon">
// 				<svg focusable="false" class="xui-icon">
// 					<use xlink:href="#xui-icon-arrow" role="presentation"></use>
// 				</svg>
// 			</div>
// 		</label>
// 		<ul id="split" class="xui-submenu xui-submenu-layout" role="group">
// 			<li class="xui-pickitem xui-pickitem-multiselect" role="option">
// 				<div class="xui-pickitem--body">
// 					<label class="xui-pickitem-multiselect--checkbox xui-styledcheckboxradio" for="kirk">
// 						<input type="checkbox" tabindex="-1" class="xui-styledcheckboxradio--input" id="kirk">
// 						<div class="xui-styledcheckboxradio--checkbox xui-pickitem--input"></div>
// 						<span class="xui-styledcheckboxradio--label xui-pickitem-multiselect--label">
// 							<span>Kirk Holloway</span>
// 						</span>
// 					</label>
// 				</div>
// 			</li>
// 			<li class="xui-pickitem xui-pickitem-multiselect" role="option">
// 				<div class="xui-pickitem--body">
// 					<label class="xui-pickitem-multiselect--checkbox xui-styledcheckboxradio" for="isaac">
// 						<input type="checkbox" tabindex="-1" class="xui-styledcheckboxradio--input" id="isaac">
// 						<div class="xui-styledcheckboxradio--checkbox xui-pickitem--input"></div>
// 						<span class="xui-styledcheckboxradio--label xui-pickitem-multiselect--label">
// 							<span>Isaac Minogue</span>
// 						</span>
// 					</label>
// 				</div>
// 			</li>
// 			<li class="xui-pickitem xui-pickitem-multiselect" role="option">
// 				<div class="xui-pickitem--body">
// 					<label class="xui-pickitem-multiselect--checkbox xui-styledcheckboxradio" for="tim">
// 						<input type="checkbox" tabindex="-1" class="xui-styledcheckboxradio--input" id="tim">
// 						<div class="xui-styledcheckboxradio--checkbox xui-pickitem--input"></div>
// 						<span class="xui-styledcheckboxradio--label xui-pickitem-multiselect--label">
// 							<span>Tim Redmond</span>
// 						</span>
// 					</label>
// 				</div>
// 			</li>
// 		</ul>
// 		</li>
// 	</ul>
// </div>
//
// Styleguide: Compounds.DisplayingData.Picklist.8.2

// Accessibility
//
// These demos do not illustrate the recommended keyboard interaction, as it is not possible with static HTML.
// If you are using React, the component handles keyboard interaction and `tabindex` values for you.
// The resulting behaviour is that each picklist is a single tab stop with arrow keys being used to navigate to each pickitem.
// For more information on keyboard accessibility, view the [W3 documentation](https://www.w3.org/WAI/GL/wiki/Using_ARIA_trees#Keyboard_Support).
//
// A picklist is an implementation of a tree control.
// To be accessible, each picklist must have the `tree` role applied as well as an `aria-label` or `aria-labelledby` attribute directing to the desired label.
// Individual pickitems must have the `treeitem` role applied.
// For more information on tree controls, view the [W3 documentation](https://www.w3.org/WAI/GL/wiki/Using_ARIA_trees).
//
// In the case of an expanding pickitem, the parent must have the `group` role applied, and children must have the `option` role applied instead.
// Use the `aria-hidden` and `aria-expended` attributes when expanding or collapsing a pickitem with children.
//
// For selected pickitems, make sure to apply the `aria-selected` attribute.
//
// Styleguide: Compounds.DisplayingData.Picklist.10


.#{$ns}-picklist {
	@include xui-listreset;
	position: relative;

	& + .#{$ns}-picklist {
		border-top: 1px solid $xui-color-grey-alpha-6;
	}
}

.#{$ns}-picklist-layout {
	padding: $xui-s-xsmall 0;
}

.#{$ns}-pickitem {
	flex-grow: 1000000;
	outline: none;
	position: relative;
	&:hover,
	&:active,
	&:focus{
		background: transparent;
	}
}

.#{$ns}-pickitem--body {
	@include xui-text-standard;
	align-items: center;
	background: transparent;
	border: 0;
	color: inherit;
	cursor: pointer;
	display: flex;
	font-family: $xui-font-family;
	min-height: 40px;
	outline: none;
	padding-left: $xui-s-large;
	padding-right: 0;
	text-align: left;
	text-decoration: none; // In case pickitem body element is a link
	width: 100%;

	&:hover,
	&:focus {
		background: $xui-pickitem-focus-bg-color;
	}

	&:active {
		background: $xui-pickitem-active-bg-color;
	}

	// Fixes an alignment issue with the arrow icon indicators in non-split menuitems
	> .#{$ns}-submenu-uicontrol--icon {
		align-self: center;
		flex: 0 0 30px;
	}
	.#{$ns}-pickitem-multiselect--checkbox .#{$ns}-styledcheckboxradio--label {
		// Use existing pickitem sizing for the checkbox labels.
		@include xui-text-standard;
		@include xui-margin-vertical(0);
	}
}

.#{$ns}-pickitem--text {
	@include xui-text-wordbreak;
	padding-bottom: 10px;
	padding-right: 20px;
	padding-top: 10px;
	width: 100%;
}

.#{$ns}-pickitem-is-hovered {
	background: $xui-pickitem-focus-bg-color;
	&:hover,
	&:focus {
		background: $xui-pickitem-focus-bg-color;
	}

	&:active {
		background: $xui-pickitem-active-bg-color;
	}
}

// Specificity exists to encapsulate the style update and eliminate nested menus
// also receiving these styles.
.#{$ns}-pickitem-is-hovered > .#{$ns}-pickitem--body {
	background: transparent;
	&:focus,
	&:hover,
	&:active {
		background: transparent;
	}
}

.#{$ns}-pickitem-is-selected:not(.#{$ns}-pickitem-multiselect) > .#{$ns}-pickitem--body {
	color: $xui-pickitem-selected-color;

	&::before {
		border-left: 3px solid currentColor;
		bottom: 0;
		content: " ";
		display: block;
		left: 0;
		position: absolute;
		top: 0;
		width: 3px;
		z-index: 1;
	}

	&:hover, &:focus {
		color: $xui-pickitem-selected-hover-color;
	}
	&:active {
		color: $xui-pickitem-selected-active-color;
	}
}

.#{$ns}-picklist--nestedcontainer {
	display: flex;
	flex-wrap: wrap;

	> .#{$ns}-pickitem-split {
		border-right: 1px solid $xui-color-grey-alpha-7;
	}
}

.#{$ns}-picklist-horizontal {
	display: inline-flex;
	flex-direction: row; // TODO: this is redundant; remove in a future version
	max-width: 100%;
	min-height: inherit; // IE11 bug fix
	.#{$ns}-pickitem {
		// Fix for text truncation - see https://scottwhittaker.net/flexbox/2017/02/05/flexbox-and-text-truncation.html
		min-width: 0;
	}
	.#{$ns}-pickitem--text {
		// TODO: adding vertical padding on pickitem--body below was probably a mistake given it's
		// not applied on non-horizontal pickitems. Move vertical padding to this class in a breaking change release.
		padding: 0;
	}
	.#{$ns}-pickitem--body {
		height: 100%;
		min-height: $xui-control-size-standard;
		padding: $xui-s-xsmall $xui-s-standard;
		text-align: center;
	}
	.#{$ns}-pickitem-is-selected:not(.#{$ns}-pickitem-multiselect) {
		// This selector shouldn't need to be so strong.
		.#{$ns}-pickitem--body:before {
			border-bottom: 3px solid currentColor;
			/* Remove default left border */
			border-left: none;
			width: 100%;
		}
	}
}

// Submenu more specificity for layout adjustments
.#{$ns}-submenu {
	@include xui-listreset;
	flex: none;
	transition: all $xui-motion-speed-fast $xui-motion-curve-standard;

	.#{$ns}-pickitem--body {
		padding-left: $xui-s-4xlarge;
	}

	.#{$ns}-pickitem--icon + .#{$ns}-pickitem--body {
		padding-left: $xui-s-5xlarge + $xui-s-5xlarge + $xui-s-2xsmall;
	}

	.#{$ns}-pickitem--icon {
		left: $xui-s-4xlarge + $xui-s-2xsmall;
	}
}

.#{$ns}-submenu-layout {
	flex: 0 0 auto;
	max-height: 0;
	overflow: hidden;
	width: 100%;
}

.#{$ns}-submenu-uicontrol--label, .#{$ns}-submenu-uicontrol {
	display: flex;
	outline: none;

	&:hover,
	&:focus {
		background: $xui-pickitem-focus-bg-color;
	}

	&:active {
		background: $xui-pickitem-active-bg-color;
	}
}

.#{$ns}-submenu-uicontrol--icon {
	align-self: center;
	color: $xui-submenu-uicontrol-icon-color;
	margin: 5px;
	transition: all $xui-motion-speed-fast $xui-motion-curve-standard;

	// For (non-split) submenus, ensure left spacing between pickitem text and the control icon
	.#{$ns}-pickitem--text + & {
		margin-left: auto;
	}
}

.#{$ns}-pickitem--submenucontrol {
	@include xui-utility-hidden-visually;
	flex-grow: 0;

	&:checked {

		& + .#{$ns}-pickitem--split .#{$ns}-submenu-uicontrol--icon, // TODO: remove this old selector
		& + .#{$ns}-pickitem-split .#{$ns}-submenu-uicontrol--icon {
			transform: rotate(180deg);
		}

		& + .#{$ns}-submenu-uicontrol--label .#{$ns}-submenu-uicontrol--icon {
			transform: rotate(180deg);
		}

		& ~ .#{$ns}-submenu-uicontrol .#{$ns}-submenu-uicontrol--icon {
			transform: rotate(180deg);
		}

		& ~ .#{$ns}-submenu-layout {
			max-height: 100vh;
			overflow: auto;
			padding: $xui-s-xsmall 0;
		}

	}
}


.#{$ns}-pickitem-split {
	align-items: stretch;
	display: flex;
	flex-flow: row nowrap;

	.#{$ns}-pickitem {
		border-right: 1px solid rgba($xui-color-black, 0.1);
		flex: 1 1 auto;
	}

}

.#{$ns}-submenu-uicontrol {
	display: flex;
	flex: 0 0 auto;
}

.#{$ns}-pickitem--uicontrol {
	align-items: center;
	display: flex;
	padding: 3px;

	&:hover,
	&:focus {
		background: $xui-pickitem-focus-bg-color;
	}

	&:active {
		background: $xui-pickitem-active-bg-color;
	}
}

.#{$ns}-pickitem--input {
	margin-right: $xui-s-standard;

}

.#{$ns}-pickitem--icon {
	margin: 0 15px;
	pointer-events: none;
	position: absolute;
	top: 5px;
}

.#{$ns}-pickitem--icon ~ .#{$ns}-pickitem--body {
	padding-left: $xui-s-5xlarge;
}

// In the specific context of a dropdownfooter, pickitems should be blue.
.#{$ns}-dropdown--footer--picklist .#{$ns}-pickitem--body {
	color: $xui-action-primary-color;
}
