@import '../vars';
@import '../mixins';

.#{$ns}-pill {
  align-items: center;
  background-color: $xui-pill-bg-color;
  border-radius: $xui-radius-max;
  cursor: default;
  display: inline-flex;
  max-width: 100%;
  min-width: $xui-minimum-touch-target;
  vertical-align: bottom; //Without vertical alignment set, pills will align themselves strangely next to each other
  // To make sure the short content in Pill in center
  .#{$ns}-pill--content {
    justify-content: center;
  }
}

.#{$ns}-pill-maxwidth {
  max-width: 200px;
}

.#{$ns}-pill-parentmaxwidth {
  max-width: 100%;
}

.#{$ns}-pill-interactive {
  &:hover {
    background-color: $xui-pill-hover-bg-color;
  }
  &:active {
    background-color: $xui-pill-active-bg-color;
  }
  &:focus {
    box-shadow: $xui-shadow-focus;
    outline: none;
  }
}

.#{$ns}-pill-is-invalid.#{$ns}-pill-interactive {
  &:hover {
    background-color: $xui-pill-invalid-hover-bg-color;
  }
  &:active {
    background-color: $xui-pill-invalid-active-bg-color;
  }
  &:focus {
    background-color: $xui-pill-invalid-hover-bg-color;
    box-shadow: $xui-shadow-focus;
  }
}

.#{$ns}-pill--button-icon {
  flex-shrink: 0;
  margin-left: $xui-s-2xsmall;
}

.#{$ns}-pill-medium {
  @include xui-text-medium;
  @include xui-padding-horizontal($xui-s-standard);
  height: $xui-control-size-standard;
}

.#{$ns}-pill-small {
  @include xui-text-small;
  @include xui-padding-horizontal($xui-s-small);
  height: $xui-control-size-small;
}

.#{$ns}-pill--text {
  @include xui-text-truncated;
}

.#{$ns}-pill--content {
  align-items: center;
  display: flex;
  min-width: 0;
  width: 100%;
}

.#{$ns}-pill-truncatevalue {
  .#{$ns}-pill--text {
    flex-shrink: 1000000000;
  }
}

.#{$ns}-pill-truncatesecondarytext {
  .#{$ns}-pill--secondary {
    flex-shrink: 1000000000;
  }
}

.#{$ns}-pill--secondary {
  @include xui-text-truncated;
  color: $xui-pill-secondary-color;
  font-weight: bold;
  margin-right: $xui-s-xsmall;
}

.#{$ns}-pill--avatar {
  margin: $xui-s-2xsmall $xui-s-xsmall $xui-s-2xsmall $xui-s-2xsmall;
  pointer-events: none;
}

.#{$ns}-pill--button {
  @include xui-focus;
  align-self: stretch; // Make hit target bigger vertically
  color: $xui-pill-color;
  padding: 0; // Override the padding on the different sizes
  text-align: left;

  &:hover,
  &:active,
  &:focus {
    color: $xui-pill-color;
  }

  .#{$ns}-pill--text {
    text-decoration: underline;
  }
}

.#{$ns}-pill-is-focused {
  background-color: $xui-pill-focused-bg-color;
}

.#{$ns}-pill-is-deletable {
  padding-right: 0;
}

.#{$ns}-pill-has-avatar {
  padding-left: 0;
  .#{$ns}-avatar-business {
    &.#{$ns}-avatar-small {
      margin-left: $xui-s-standard;
    }
    &.#{$ns}-avatar-xsmall {
      margin-left: $xui-s-small;
    }
  }
}

.#{$ns}-pill-is-invalid {
  background-color: $xui-pill-invalid-bg-color;
  color: $xui-pill-invalid-color;
  padding-left: 0;

  &.#{$ns}-pill-is-focused {
    background-color: $xui-pill-invalid-focused-bg-color;
  }

  .#{$ns}-pill--button-icon {
    color: $xui-pill-invalid-color; // Override inverted button color which has alpha
  }

  .#{$ns}-pill--text {
    color: $xui-pill-invalid-color;
  }

  .#{$ns}-pill--secondary {
    color: $xui-pill-invalid-secondary-color;
    font-weight: bold;
  }
}

.#{$ns}-pill-single {
  align-items: center;
  background: transparent;
  display: flex;
  max-width: 100%; // Undo max-width styling of xui-pill
  width: 100%; // Ensure full width

  .#{$ns}-pill--button-icon {
    margin: 0 0 0 auto; // Delete button should be on the far right; no other margins should apply to ensure alignment with <select> caret
  }

  .#{$ns}-pill--content {
    flex-grow: 1;
  }

  &.#{$ns}-pill-is-invalid {
    .#{$ns}-pill--text {
      color: $xui-pill-single-invalid-color;
    }

    .#{$ns}-pill--secondary {
      color: $xui-pill-single-invalid-secondary-color;
    }

    &.#{$ns}-pill-is-focused {
      background: $xui-pill-single-invalid-focused-bg-color;
    }
  }
}

.#{$ns}-pill--erroricon {
  align-items: center;
  background: $xui-color-white;
  border-radius: $xui-radius-circle;
  display: inline-flex;
  flex-shrink: 0;
  justify-content: center;
  margin-left: 5px;
  margin-right: 5px;
}

.#{$ns}-pill--erroricon-small {
  height: $xui-control-size-small;
  width: $xui-control-size-small;
}

.#{$ns}-pill--erroricon-xsmall {
  height: $xui-control-size-xsmall;
  width: $xui-control-size-xsmall;
}
