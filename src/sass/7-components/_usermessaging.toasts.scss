@import '../vars';
@import '../mixins';

$toast-max-width: 400px;

.#{$ns}-toast {
  @include xui-clearfix;
  background: $xui-toast-bg-color;
  border-radius: $xui-radius;
  box-shadow: $xui-shadow-depth-lift;
  color: $xui-toast-color;
  display: inline-block;
  max-width: $toast-max-width;
  opacity: 1;
  position: relative;
  transition: opacity $xui-motion-speed-fast $xui-motion-curve-standard;
  // Toast wrapper has a much higher z-index which will set a shiny new context
  // in most cases, but if one were to place a toast inline, we wouldn't want to get
  // quite as extreme.
  z-index: $xui-z-index-contextualtop;
  @include xui-breakpoint-small-down {
    border-radius: 0;
  }
}

.#{$ns}-toast-positive {
  @include xui-highlight-left($xui-banner-positive-bg-color, $xui-radius);
}

.#{$ns}-toast-negative {
  @include xui-highlight-left($xui-banner-negative-bg-color, $xui-radius);
}

.#{$ns}-toast-layout {
  display: block;
  margin: 0 $xui-s-large $xui-s-large $xui-s-large;
  overflow: hidden;

  @include xui-breakpoint-small-down {
    margin: 0;
    max-width: none;
    width: 100%;

    &::before {
      border-radius: 0;
    }
  }

  .#{$ns}-toast--message {
    float: initial;
    margin: 0;
    padding: $xui-s-small $xui-s-standard;
  }

  .#{$ns}-toast--actions {
    margin: $xui-s-2xsmall 0 0 0;
    padding: 0;
  }

  .#{$ns}-toast--action {
    margin: $xui-s-2xsmall;
    text-align: center;
  }

  .#{$ns}-toast--close ~ .#{$ns}-toast--message {
    max-width: calc(100% - #{$xui-control-size-small + $xui-s-standard});
  }
}

.#{$ns}-toastwrapper {
  bottom: 0;
  display: flex;
  flex-flow: column nowrap;
  left: 0;
  position: fixed;
  z-index: $xui-z-index-toast;

  @include xui-breakpoint-small-down {
    width: 100%;
  }
}

.#{$ns}-toast--message,
.#{$ns}-toast--actions,
.#{$ns}-toast--action {
  display: inline-block;
}

.#{$ns}-toast--message {
  float: left;
}

.#{$ns}-toast--close,
.#{$ns}-toast--actions {
  float: right;
}

.#{$ns}-toast--close {
  margin: $xui-s-2xsmall;
}

.#{$ns}-toast-is-hidden {
  @include xui-margin-vertical(0);
  @include xui-padding-vertical(0);
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  pointer-events: none;
}
