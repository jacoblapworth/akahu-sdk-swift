@import "../vars";
@import "../mixins";

// Accordion
//
// Teaser: Used to display an expandable/collapsible list to users.
//
// The accordion is used to display an expandable/collapsible list to users.
//
// Classes:
// xui-accordion: Container for an accordion
// xui-accordion--header: Style for an accordion item heading
// xui-accordionitem: Container for an accordion item
// xui-accordionitem--collapsed: Container for collapsed state of an accordion item
// xui-accordionitem--expanded: Container for expanded state of an accordion item
// xui-accordionitem-is-open: Enable the expanded state of an accordion item
// xui-accordionitem-layout: Recommended layout for an accordion item
//
// Markup:
// <ul class="xui-accordion" role="tablist" aria-multiselectable="true">
//   <li class="xui-accordionitem xui-accordionitem-layout">
//     <div id="tab-1" class="xui-accordionitem--collapsed" aria-selected="false" aria-controls="panel-1" arial-expanded="false" role="tab" tabindex="-1">
//       <a href="#">Collapsed Title</a>
//     </div>
//     <div id="panel-1" class="xui-accordionitem--expanded" aria-labelledby="tab-1" aria-hidden="true" role="tabpanel">
//       <h3 class="xui-heading xui-accordion--header">Expanded Title</h3>
//       <p>Some other content...</p>
//     </div>
//   </li>
//   <li class="xui-accordionitem xui-accordionitem-layout">
//     <div id="tab-2" class="xui-accordionitem--collapsed" aria-selected="false" aria-controls="panel-2" aria-expanded="false" role="tab" tabindex="-1">
//       <a href="#">Collapsed Title</a>
//     </div>
//     <div id="panel-2" class="xui-accordionitem--expanded" aria-labelledby="tab-2" aria-hidden="true" role="tabpanel">
//       <h3 class="xui-heading xui-accordion--header">Expanded Title</h3>
//       <p>Some other content...</p>
//     </div>
//   </li>
//   <li class="xui-accordionitem xui-accordionitem-layout xui-accordionitem-is-open">
//     <div id="tab-3" class="xui-accordionitem--collapsed" aria-selected="true" aria-controls="panel-3" aria-expanded="true" role="tab" tabindex="0">
//       <a href="#">Collapsed Title</a>
//     </div>
//     <div id="panel-3" class="xui-accordionitem--expanded" aria-labelledby="tab-3" aria-hidden="false" role="tabpanel">
//       <h3 class="xui-heading xui-accordion--header">Expanded Title</h3>
//       <p>Some other content...</p>
//     </div>
//   </li>
//   <li class="xui-accordionitem xui-accordionitem-layout">
//     <div id="tab-4" class="xui-accordionitem--collapsed" aria-selected="false" aria-controls="panel-4" aria-expanded="false" role="tab" tabindex="-1">
//       <a href="#">Collapsed Title</a>
//     </div>
//     <div id="panel-4" class="xui-accordionitem--expanded" aria-labelledby="tab-4" aria-hidden="true" role="tabpanel">
//       <h3 class="xui-heading xui-accordion--header">Expanded Title</h3>
//       <p>Some other content...</p>
//     </div>
//   </li>
// </ul>
//
// Styleguide: Building Blocks.Accordion

.#{$ns}-accordion {
	list-style: none;
	margin: 0;
	padding: 0;
}

.#{$ns}-accordion--header {
	margin: 0 0 1em;
}

.#{$ns}-accordionitem {
	background-color: $xui-color-white;
	transition-duration: $xui-motion-speed-fast;
	transition-property: width, margin;
	width: 100%;
}

.#{$ns}-accordionitem--collapsed {
	border-bottom: $xui-border-muted;
}

.#{$ns}-accordionitem--expanded {
	height: 0;
	opacity: 0;
	padding: 0;
	transform: scaleY(0);
	transition: padding $xui-motion-speed-medium;
}

.#{$ns}-accordionitem-layout {
	.#{$ns}-accordionitem--collapsed {
		padding: $xui-s-standard;
	}
}

.#{$ns}-accordionitem-is-open {
	@include xui-box-shadow-border($xui-shadow-depth-lift);
	height: auto;
	margin: 0;
	max-width: 100vw;
	transform: translateY(-1px); // hides the border-bottom of the accordion--collapsed above it

	&.#{$ns}-accordionitem-layout {
		@include xui-breakpoint-wide { //increase width of open accordion item by 40px on larger screen sizes
			border-radius: $xui-radius;
			margin-left: -$xui-s-large;
			width: calc(100% + 40px);
		}
	}

	> .#{$ns}-accordionitem--collapsed {
		border: 0;
		height: 0;
		opacity: 0;
		overflow: hidden;
		padding: 0;
	}

	> .#{$ns}-accordionitem--expanded {
		height: auto;
		opacity: 1;
		padding: $xui-s-huge;
		transform: scaleY(1);
		transition-delay: $xui-motion-speed-fast, 0s, -2s;
		transition-duration: $xui-motion-speed-medium;
		transition-property: opacity, padding, transform;
	}
}
