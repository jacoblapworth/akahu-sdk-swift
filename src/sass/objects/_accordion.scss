// Accordion
//
// Used to display an expandable/collapsible list to users.
//
// The `.xui-accordionitem-is-open` class toggles which item is open and includes transition animations.
//
// The `.xui-accordionitem-layout` class provides standard padding to collapsed items and large padding to open items.
// It also provides a responsive story; open items sit flush within the border of the accordion on narrow screens but expand
// in width to overhang the sides of the accordion on standard and wide screens.
//
// Markup:
//<ul class="xui-accordion xui-page-width-standard xui-panel" role="tablist" aria-multiselectable="true">
//  <li class="xui-accordionitem xui-accordionitem-layout">
//    <div id="tab-1" class="xui-accordionitem--collapsed" aria-selected="false" aria-controls="panel-1" arial-expanded="false" role="tab" tabindex="-1">
//      <a href="#">Collapsed Title</a>
//    </div>
//    <div id="panel-1" class="xui-accordionitem--expanded" aria-labelledby="tab-1" aria-hidden="true" role="tabpanel">
//      <h3 class="xui-page-title xui-accordion--header">Expanded Title</h3>
//      <p>Some other content...</p>
//    </div>
//  </li>
//  <li class="xui-accordionitem xui-accordionitem-layout">
//    <div id="tab-2" class="xui-accordionitem--collapsed" aria-selected="false" aria-controls="panel-2" aria-expanded="false" role="tab" tabindex="-1">
//      <a href="#">Collapsed Title</a>
//    </div>
//    <div id="panel-2" class="xui-accordionitem--expanded" aria-labelledby="tab-2" aria-hidden="true" role="tabpanel">
//      <h3 class="xui-page-title xui-accordion--header">Expanded Title</h3>
//      <p>Some other content...</p>
//    </div>
//  </li>
//  <li class="xui-accordionitem xui-accordionitem-layout xui-accordionitem-is-open">
//    <div id="tab-3" class="xui-accordionitem--collapsed" aria-selected="true" aria-controls="panel-3" aria-expanded="true" role="tab" tabindex="0">
//      <a href="#">Collapsed Title</a>
//    </div>
//    <div id="panel-3" class="xui-accordionitem--expanded" aria-labelledby="tab-3" aria-hidden="false" role="tabpanel">
//      <h3 class="xui-page-title xui-accordion--header">Expanded Title</h3>
//      <p>Some other content...</p>
//    </div>
//  </li>
//  <li class="xui-accordionitem xui-accordionitem-layout">
//    <div id="tab-4" class="xui-accordionitem--collapsed" aria-selected="false" aria-controls="panel-4" aria-expanded="false" role="tab" tabindex="-1">
//      <a href="#">Collapsed Title</a>
//    </div>
//    <div id="panel-4" class="xui-accordionitem--expanded" aria-labelledby="tab-4" aria-hidden="true" role="tabpanel">
//      <h3 class="xui-page-title xui-accordion--header">Expanded Title</h3>
//      <p>Some other content...</p>
//    </div>
//  </li>
//</ul>
//
// Styleguide: Accordion
.#{$ns}-accordion {
	list-style: none;
	margin: 0;
	padding: 0;
}

.#{$ns}-accordion--header {
	margin: 0 0 1em;
}

.#{$ns}-accordionitem {
	background-color: $xui-color-white;
	transition: width 0.3s, margin 0.3s;
	width: 100%;
}

.#{$ns}-accordionitem--collapsed {
	border-bottom: $xui-divider-standard;
}

.#{$ns}-accordionitem--expanded {
	height: 0;
	opacity: 0;
	padding: 0;
	transform: scaleY(0);
	transition: padding 0.3s;
}

.#{$ns}-accordionitem-layout {
	.#{$ns}-accordionitem--collapsed {
		padding: $xui-s-standard;
	}
}

.#{$ns}-accordionitem-is-open {
	&.#{$ns}-accordionitem-layout {
		@include xui-breakpoint-wide { /** increase width of open accordion item by 40px on larger screen sizes **/
			border-left: $xui-divider-standard;
			border-radius: $xui-radius;
			border-right: $xui-divider-standard;
			margin-left: -20px;
			width: calc(100% + 40px);
		}
	}

	.#{$ns}-accordionitem--expanded {
		padding: $xui-s-xxlarge;
	}
}

.#{$ns}-accordionitem-is-open {
	border-bottom: $xui-divider-standard;
	border-top: $xui-divider-standard;
	box-shadow: $xui-shadow-depth-2;
	height: auto;
	margin: 0;
	max-width: 100vw;
	transform: translateY(-1px); /** hides the border-bottom of the accordion--collapsed above it **/


	> .#{$ns}-accordionitem--collapsed {
		border: 0;
		height: 0;
		opacity: 0;
		overflow: hidden;
		padding: 0;
	}

	> .#{$ns}-accordionitem--expanded {
		height: auto;
		opacity: 1;
		transform: scaleY(1);
		transition: opacity 0.2s, padding 0.3s, transform 0.3s;
		transition-delay: 0.1s, 0s, -2s;
	}
}
