@import "../vars";
@import "../mixins";

// Toggles
//
// Teaser: Grouped buttons that act as form controls. Either composed of checkboxes or radio elements.
//
// Toggles can be made using either `radio` or `checkbox` inputs.
//
// The colorway classes should be applied alongside `xui-toggle`.
// Note that `xui-toggle-inverted` should be used with `xui-color-white` and `xui-background-grey-1` classes.
// See [Typography](./section-typography.html) for more details.
//
// Toggle labels can contain any combination of images, multiline text and [SVG icons](./section-icons.html).
// Make sure to use `role="presentation"` on each `<use>` element for greater accessibility.
//
// #### Class Names
//
// `xui-toggle` Container for one or more toggle options
//
// `xui-toggle-form-layout` Recommended layout for form based toggles
//
// `xui-toggle-fullwidth-layout` Recommended layout for full-width toggles
//
// `xui-toggle-small` Modifier for smaller toggles. You can use any layout in conjunction with this.
//
// `xui-toggle-inverted` Style for a light on dark toggle container
//
// `xui-toggle-option` Container for a toggle option
//
// `xui-toggle--input` Style for a toggle input (hides HTML control)
//
// `xui-toggle--label` Style for a toggle label
//
// `xui-toggle--text` Style for toggle text within the label. Fixes a bug with text not wrapping if using `xui-toggle-fullwidth-layout` and IE11
//
// `xui-is-disabled` Style for a disabled toggle
//
// Components: Toggle
//
// Styleguide: Building Blocks.Controls.Toggle

// Form layout
//
// The recommended form layout can be achieved using `xui-toggle-form-layout` alongside `xui-toggle`
// and is suitable for mixed label content. The form layout is intended for text-based
// labels. It provides vertical padding and line height in addition to being full width.
//
// Styleguide: Building Blocks.Controls.Toggle.1

// Form layout radio
//
// Markup:
// <div class="xui-panel xui-margin xui-padding">
//   <form class="xui-form-layout">
//     <div class="xui-field-layout">
//       <label class="xui-text-label xui-fieldlabel-layout" for="field1">Enabled</label>
//       <div class="xui-toggle xui-toggle-form-layout">
//         <label class="xui-toggle-option">
//           <input type="radio" name="tg1" class="xui-toggle--input" checked/>
//           <span class="xui-toggle--label xui-padding-vertical-small">Radio</span>
//         </label>
//         <label class="xui-toggle-option">
//           <input type="radio" name="tg1" class="xui-toggle--input"/>
//           <span class="xui-toggle--label xui-padding-vertical-small">Radio</span>
//         </label>
//         <label class="xui-toggle-option">
//           <input type="radio" name="tg1" class="xui-toggle--input" />
//           <span class="xui-toggle--label xui-padding-vertical-small">Radio</span>
//         </label>
//       </div>
//    </div>
//     <div class="xui-field-layout">
//       <label class="xui-text-label xui-fieldlabel-layout" for="field1">Enabled (small)</label>
//       <div class="xui-toggle xui-toggle-small xui-toggle-form-layout">
//         <label class="xui-toggle-option">
//           <input type="radio" name="tg1" class="xui-toggle--input" checked/>
//           <span class="xui-toggle--label xui-padding-vertical-small">Radio</span>
//         </label>
//         <label class="xui-toggle-option">
//           <input type="radio" name="tg1" class="xui-toggle--input"/>
//           <span class="xui-toggle--label xui-padding-vertical-small">Radio</span>
//         </label>
//         <label class="xui-toggle-option">
//           <input type="radio" name="tg1" class="xui-toggle--input" />
//           <span class="xui-toggle--label xui-padding-vertical-small">Radio</span>
//         </label>
//       </div>
//    </div>
//    <div class="xui-field-layout">
//       <label class="xui-text-label xui-fieldlabel-layout" for="field2">Disabled</label>
//       <div class="xui-toggle xui-toggle-form-layout">
//         <label class="xui-toggle-option xui-is-disabled">
//           <input type="radio" name="tg0" class="xui-toggle--input" disabled checked/>
//           <span class="xui-toggle--label xui-padding-vertical-small">Radio</span>
//         </label>
//         <label class="xui-toggle-option xui-is-disabled">
//           <input type="radio" name="tg0" class="xui-toggle--input" disabled/>
//           <span class="xui-toggle--label xui-padding-vertical-small">Radio</span>
//         </label>
//         <label class="xui-toggle-option xui-is-disabled">
//           <input type="radio" name="tg0" class="xui-toggle--input" disabled/>
//           <span class="xui-toggle--label xui-padding-vertical-small">Radio</span>
//         </label>
//       </div>
//      </div>
//    </div>
//   </form>
// </div>
//
// Styleguide: Building Blocks.Controls.Toggle.1.2

// Full width layout
//
// The recommended full-width layout can be achieved using `xui-toggle-fullwidth-layout` alongside `xui-toggle`
// and is suitable for mixed label content.
//
// Styleguide: Building Blocks.Controls.Toggle.2

// Full width inverted radio
//
// Markup:
// <div class="xui-panel xui-margin xui-padding xui-color-white xui-background-grey-1">
//   <div class="xui-toggle xui-toggle-inverted xui-toggle-fullwidth-layout xui-padding-bottom-small">
//     <label class="xui-toggle-option">
//       <input type="radio" class="xui-toggle--input" name="tg3" checked/>
//       <span class="xui-toggle--label">
//         Radio
//       </span>
//     </label>
//     <label class="xui-toggle-option">
//       <input type="radio" class="xui-toggle--input" name="tg3"/>
//       <span class="xui-toggle--label">
//         Radio
//       </span>
//     </label>
//     <label class="xui-toggle-option">
//       <input type="radio" class="xui-toggle--input" name="tg3"/>
//       <span class="xui-toggle--label">
//         Radio
//       </span>
//     </label>
//   </div>
//   <div class="xui-toggle xui-toggle-small xui-toggle-inverted xui-toggle-fullwidth-layout xui-padding-bottom-small">
//     <label class="xui-toggle-option">
//       <input type="radio" class="xui-toggle--input" name="tg3" checked/>
//       <span class="xui-toggle--label">
//         Radio
//       </span>
//     </label>
//     <label class="xui-toggle-option">
//       <input type="radio" class="xui-toggle--input" name="tg3"/>
//       <span class="xui-toggle--label">
//         Radio
//       </span>
//     </label>
//     <label class="xui-toggle-option">
//       <input type="radio" class="xui-toggle--input" name="tg3"/>
//       <span class="xui-toggle--label">
//         Radio
//       </span>
//     </label>
//   </div>
//   <div class="xui-toggle xui-toggle-inverted xui-toggle-fullwidth-layout">
//     <label class="xui-toggle-option xui-is-disabled">
//       <input type="radio" class="xui-toggle--input" name="tg2" checked disabled/>
//       <span class="xui-toggle--label">
//         Radio
//       </span>
//     </label>
//     <label class="xui-toggle-option xui-is-disabled">
//       <input type="radio" class="xui-toggle--input" name="tg2" disabled/>
//       <span class="xui-toggle--label">
//         Radio
//       </span>
//     </label>
//     <label class="xui-toggle-option xui-is-disabled">
//       <input type="radio" class="xui-toggle--input" name="tg2" disabled/>
//       <span class="xui-toggle--label">
//         Radio
//       </span>
//     </label>
//   </div>
// </div>
//
// Styleguide: Building Blocks.Controls.Toggle.2.1

// Icon only
//
// No additional classes are required for icon only toggles. Simply use svg content instead of text.
//
// Styleguide: Building Blocks.Controls.Toggle.3

// Icon only chekbox
//
// Markup:
// <div class="xui-panel xui-margin xui-padding">
//   <div class="xui-toggle xui-padding-bottom-small">
//     <label class="xui-toggle-option">
//       <input type="checkbox" class="xui-toggle--input" checked/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-bold" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//     <label class="xui-toggle-option">
//       <input type="checkbox" class="xui-toggle--input" />
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-italic" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//     <label class="xui-toggle-option">
//       <input type="checkbox" class="xui-toggle--input"/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-underline" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//   </div>
//   <div class="xui-toggle">
//     <label class="xui-toggle-option xui-is-disabled">
//       <input type="checkbox" class="xui-toggle--input" disabled checked/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-bold" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//     <label class="xui-toggle-option xui-is-disabled">
//       <input type="checkbox" class="xui-toggle--input" disabled/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-italic" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//     <label class="xui-toggle-option xui-is-disabled">
//       <input type="checkbox" class="xui-toggle--input" disabled/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-underline" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//   </div>
// </div>
//
// Styleguide: Building Blocks.Controls.Toggle.3.1

// Icon only inverted radio
//
// Markup:
// <div class="xui-panel xui-margin xui-padding xui-color-white xui-background-grey-1">
//   <div class="xui-toggle xui-toggle-inverted xui-padding-bottom-small">
//     <label class="xui-toggle-option">
//       <input type="radio" name="tg0" class="xui-toggle--input"/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-desktop" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//     <label class="xui-toggle-option">
//       <input type="radio" name="tg0" class="xui-toggle--input" checked/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-mobile" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//     <label class="xui-toggle-option">
//       <input type="radio" name="tg0" class="xui-toggle--input"/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-print" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//   </div>
//   <div class="xui-toggle xui-toggle-inverted">
//     <label class="xui-toggle-option xui-is-disabled">
//       <input type="radio" name="tg1" class="xui-toggle--input" disabled/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-desktop" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//     <label class="xui-toggle-option xui-is-disabled">
//       <input type="radio" name="tg1" class="xui-toggle--input" disabled checked/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-mobile" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//     <label class="xui-toggle-option xui-is-disabled">
//       <input type="radio" name="tg1" class="xui-toggle--input" disabled/>
//       <span class="xui-toggle--label">
//         <svg focusable="false" class="xui-icon">
//           <use xlink:href="#xui-icon-print" role="presentation"/>
//         </svg>
//       </span>
//     </label>
//   </div>
// </div>
//
// Styleguide: Building Blocks.Controls.Toggle.3.2


// Full-width layout
.#{$ns}-toggle-fullwidth-layout .#{$ns}-toggle--label,
.#{$ns}-toggle-fullwidth-layout .#{$ns}-toggle-option {
	flex-basis: 100%;
	flex-grow: 1;
	min-height: $xui-input-height;
}

// This forces text to wrap in IE11
.#{$ns}-toggle-fullwidth-layout .#{$ns}-toggle--text {
	display: block;
	width: 100%;
}

// Form Layout
.#{$ns}-toggle-form-layout .#{$ns}-toggle--label {
	line-height: $xui-line-height-button;
	min-height: $xui-input-height;
	padding-bottom: 8px;
	padding-top: 8px;
}

// Small variant
.#{$ns}-toggle-small .#{$ns}-toggle--label {
	padding-bottom: 4px; // 5px leads to a height of 31px
	padding-top: 4px;
}

.#{$ns}-toggle-small .#{$ns}-toggle--label,
.#{$ns}-toggle-small .#{$ns}-toggle-option {
	min-height: $xui-input-height-small;
}

.#{$ns}-toggle-form-layout .#{$ns}-toggle-option,
.#{$ns}-toggle-form-layout .#{$ns}-toggle--label {
	flex-grow: 1;
}

// Base toggle (form and standard variant deprecated, removed in XUI 12)
.#{$ns}-toggle {
	align-items: stretch;
	display: flex;

	// Disabled toggles should not appear semi-transparent
	.#{$ns}-is-disabled {
		opacity: 1;
	}

	.#{$ns}-toggle--label:hover {
		background-color: $xui-color-grey-alpha-7;
	}

	// Focus, not hover
	.#{$ns}-toggle--input:focus:not(:hover) + .#{$ns}-toggle--label {
		box-shadow: $xui-shadow-focus;
	}

	// Active
	.#{$ns}-toggle--input:active + .#{$ns}-toggle--label {
		background-color: $xui-color-grey-alpha-6;
	}

	// Checked
	.#{$ns}-toggle--input:checked + .#{$ns}-toggle--label {
		background-color: $xui-color-grey-1;
		border-color: $xui-color-grey-1;
		color: $xui-color-white;
		z-index: 1;
	}

	// Checked, hover
	.#{$ns}-toggle--input:checked + .#{$ns}-toggle--label:hover {
		background-color: rgba($xui-color-grey-1, 0.95);
	}

	// Checked, active
	.#{$ns}-toggle--input:checked:active + .#{$ns}-toggle--label {
		background-color: rgba($xui-color-grey-1, 0.90);
	}

	// Checked, disabled
	.#{$ns}-toggle--input:checked:disabled + .#{$ns}-toggle--label {
		background-color: $xui-color-grey-alpha-6;
		border-color: $xui-color-grey-alpha-5;
		color: $xui-color-grey-alpha-4;
	}

	// Disabled
	.#{$ns}-toggle--input:disabled + .#{$ns}-toggle--label {
		border-color: $xui-color-grey-alpha-5;
		color: $xui-color-grey-alpha-4;
	}
}

// Input styles
.#{$ns}-toggle--input {
	@include xui-position-offscreen-input;
}

// Label styles
.#{$ns}-toggle--label {
	align-items: center;
	border: $xui-border-standard;
	display: flex;
	flex-direction: column;
	justify-content: center;
	margin-left: -1px;
	min-height: $xui-input-height; // TODO: remove layout assumption
	min-width: $xui-input-height; // TODO: remove layout assumption
	position: relative; // For z-index
	text-align: center;
	transition: all $xui-motion-speed-fast ease;
}

// Inverted styles
.#{$ns}-toggle-inverted {

	.#{$ns}-toggle--label {
		border-color: $xui-color-inverted-alpha-4;
	}

	// Hover
	.#{$ns}-toggle--label:hover {
		background-color: $xui-color-shadow-inverted-light;
	}

	// Focus, not hover
	.#{$ns}-toggle--input:focus:not(:hover) + .#{$ns}-toggle--label {
		box-shadow: $xui-shadow-focus-inverted;
	}

	// Active
	.#{$ns}-toggle--input:active + .#{$ns}-toggle--label {
		background-color: $xui-color-shadow-inverted-medium;
	}

	// Checked
	.#{$ns}-toggle--input:checked + .#{$ns}-toggle--label {
		background-color: $xui-color-white;
		border-color: $xui-color-white;
		color: $xui-color-grey-1;
		z-index: 1;
	}

	// Checked, hover
	.#{$ns}-toggle--input:checked + .#{$ns}-toggle--label:hover {
		background-color: rgba($xui-color-white, 0.95);
	}

	// Checked, active
	.#{$ns}-toggle--input:checked:active + .#{$ns}-toggle--label {
		background-color: rgba($xui-color-white, 0.90);
	}

	// Checked, disabled
	.#{$ns}-toggle--input:checked:disabled + .#{$ns}-toggle--label {
		background-color: $xui-color-inverted-alpha-6;
		border-color: $xui-color-inverted-alpha-5;
		color: $xui-color-inverted-alpha-4;
	}

	// Disabled
	.#{$ns}-toggle--input:disabled + .#{$ns}-toggle--label {
		border-color: $xui-color-inverted-alpha-5;
		color: $xui-color-inverted-alpha-4;
	}
}

// Option styles
.#{$ns}-toggle-option {
	display: flex;

	&:nth-of-type(n+2) .#{$ns}-toggle--label {
		border-left: none;
	}

	&:first-of-type .#{$ns}-toggle--label {
		border-bottom-left-radius: $xui-radius;
		border-top-left-radius: $xui-radius;
	}

	&:last-of-type .#{$ns}-toggle--label {
		border-bottom-right-radius: $xui-radius;
		border-top-right-radius: $xui-radius;
	}
}
