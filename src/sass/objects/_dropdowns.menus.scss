@import "../vars";
@import "../tools/functions";

// Menu
//
// Markup:
//	<div class="xui-dropdownmenu">
//		<div class="xui-dropdownmenu--body">
//			<h3 class="xui-dropdownmenu--groupheading">Group Title</h3>
//			<ul class="xui-menugroup">
//				<li class="xui-menuitem">
//					<button class="xui-unstyledbutton xui-menuitem--body">
//						Menu item 1
//					</button>
//				</li>
//				<li class="xui-menuitem xui-menuitem-is-selected">
//					<button class="xui-unstyledbutton xui-menuitem--body">
//						Menu item 2
//					</button>
//				</li>
//				<li class="xui-menuitem">
//					<label class="xui-menuitem--body">
//						<input type="checkbox" class="xui-menuitem--input" />
//						Menu item 3
//					</label>
//				</li>
//				<li class="xui-menuitem">
//					<label class="xui-menuitem--body">
//						<input type="checkbox" class="xui-menuitem--input" />
//						Menu item 4
//					</label>
//				</li>
//				<li class="xui-menuitem">
//					<label class="xui-menuitem--body">
//						<input type="checkbox" class="xui-menuitem--input" />
//						Menu item 5
//					</label>
//				</li>
//				<li class="xui-menuitem">
//					<label class="xui-menuitem--body">
//						<input type="checkbox" class="xui-menuitem--input" />
//						Menu item 6
//					</label>
//				</li>
//				<li class="xui-menuitem">
//					<label class="xui-menuitem--body">
//						<input type="checkbox" class="xui-menuitem--input" />
//						Menu item 7
//					</label>
//				</li>
//			</ul>
//			<ul class="xui-menugroup">
//				<li class="xui-menuitem">
//					<a class="xui-menuitem--body" href="http://www.google.com">Link Menu Item 1</a>
//				</li>
//				<li class="xui-menuitem">
//					<label class="xui-menuitem--body">
//						<input type="checkbox" class="xui-menuitem--input" />
//						Menu item 2
//					</label>
//				</li>
//				<li class="xui-menuitem">
//					<label class="xui-menuitem--body">
//						<input type="checkbox" class="xui-menuitem--input" />
//						Menu item 3
//					</label>
//				</li>
//				<li class="xui-menuitem">
//					<label class="xui-menuitem--body">
//						<input type="radio" name="radios2" class="xui-menuitem--input" />
//						Menu item 4
//					</label>
//				</li>
//				<li class="xui-menuitem">
//					<label class="xui-menuitem--body">
//						<input type="radio" name="radios2" class="xui-menuitem--input" />
//						Menu item 5
//					</label>
//				</li>
//			</ul>
//		</div>
//		<footer class="xui-dropdownmenu--footer">
//			<ul class="xui-menugroup">
//				<li class="xui-menuitem">
//					<button class="xui-menuitem--body xui-unstyledbutton">+ Some action</button>
//				</li>
//			</ul>
//		</footer>
//	</div>
//
// Styleguide: Dropdowns.1
$shadow-color: #ccc;

.#{$ns}-dropdownmenu {
	background-color: $color-panels;
	border: $border-standard;
	border-radius: $xui-radius;
	box-shadow: $shadow-depth-2;
	font-size: 13px;
	list-style-type: none;
	margin: 0;
	overflow: hidden;
	position: absolute;
	transition: $xui-transition-duration-quick opacity $xui-easing-standard;
	width: 180px;
	z-index: 1;
}

.#{$ns}-dropdownmenu-is-closed {
	opacity: 0;
}

.#{$ns}-dropdownmenu--body,
.#{$ns}-dropdownmenu--footer {
	flex: 1 1 auto;
}

.#{$ns}-dropdownmenu--body {
	max-height: 350px;
	overflow: auto;
}

.#{$ns}-dropdownmenu--footer {
	border-top: $border-standard;
	box-shadow: 0 -2px 0 0 rgba($color-black, 0.05); // Should be a negative shadow variable
	z-index: 1;
}

.#{$ns}-dropdownmenu-select {
	border-color: $color-xero-blue;
	border-radius: 0 0 $xui-radius $xui-radius;
	border-top: 0;
	left: 1em;
	position: absolute;
	top: 100%;
	width: $xui-inputgroup-width;
}

.#{$ns}-menugroup {
	border-top: $divider-standard;
	margin: 0;
	padding: $xui-padding-menu-vertical 0;

	&:first-of-type {
		border-top: 0;
	}
}

.#{$ns}-menuitem {
	list-style-type: none;

	&:hover {
		background-color: $color-hovers;
	}
}

.#{$ns}-menuitem--body {
	align-items: center;
	display: flex;
	line-height: px-to-rem(24);
	padding: $xui-padding-menu;
	text-align: left;
	text-decoration: none;
	width: 100%;
}

.#{$ns}-dropdownmenu--groupheading {
	background-color: $color-grey-6;
	border-bottom: $divider-standard;
	color: $color-secondary-text;
	font-size: $xui-font-size-heading-small;
	font-weight: normal;
	line-height: px-to-rem(30);
	margin: 0;
	padding: 0 $xui-padding-menu-horizontal;

	&:nth-of-type(n+2) {
		border-top: 1px solid $color-grey-4;
	}

	& + .#{$ns}-menugroup {
		border-top: 0;
	}
}

.#{$ns}-menuitem--input {
	margin: 0 7px 0 0;
	padding: 0;
	top: 0; // doesn't work due to odd top's in _inputs.scss
	z-index: 0;
}

.#{$ns}-menuitem-is-selected {
	background-color: $color-xero-blue;
	color: $color-reversed-text;

	.#{$ns}-menuitem--body {
		color: inherit;
	}

	&:hover {
		background-color: $color-xero-blue;
	}
}
