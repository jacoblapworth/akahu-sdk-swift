@import "../vars";

// Checkboxes and Radios
//
// Weight: 4.1
//
// Styleguide: Checkboxes and Radios

// Styled Checkboxes and Radios
//
// Styled checkbox and radio inputs can be made with any SVG icon from the [xui-icon collection](https://github.dev.xero.com/pages/UXE/xui-icon/).
// A minimum of two layers are required to create a styled input; a main layer and a focus layer.
//
// The `xui-styledcheckbox--main` and `xui-styledradio--main` classes provide the main layer for a styled input.
//
// The `xui-styledcheckbox--focus` and `xui-styledradio--focus` classes provide the focus layer for a styled input.
// The focus layer is needed in order to mimic the CSS `box-shadow` property and should use the same SVG as the main layer.
//
// The `xui-styledcheckbox--check` and `xui-styledradio-check` classes provide the checkmark layer for a styled input.
// They are intended for use with the `xui-icon-checkbox-check` and `xui-icon-radio-check` icons.
//
// The `xui-styledcheckbox--indeterminate` class provides the indeterminate layer for a styled checkbox.
// It is intended to be used with the `xui-icon-checkbox-indeterminate` icon.
// Note that JavaScript is required to [toggle the indeterminate state of a checkbox](https://developer.mozilla.org/en-US/docs/Web/CSS/:indeterminate)
// (i.e. there is no indeterminate HTML attribute).
//
// Make sure to use `role="presentation"` on each `<use>` element for greater accessibility.
//
// Components: Checkbox, Radio
//
// Classes:
// xui-styledcheckbox-group: Container for a group of styled checkboxes
// xui-styledcheckbox: Container for a styled checkbox
// xui-styledcheckbox-reversed: Modifier for a right-aligned styled checkbox
// xui-styledcheckbox--focus: Subcomponent for focus layer of a styled checkbox
// xui-styledcheckbox--main: Subcomponent for main layer of a styled checkbox
// xui-styledcheckbox--check: Subcomponent for checkmark layer of a styled checkbox
// xui-styledcheckbox--indeterminate: Subcomponent for indeterminate layer of a styled checkbox
// xui-styledcheckbox--label: Subcomponent for label text of a styled checkbox
// xui-styledradio-group: Container for a group of styled radios
// xui-styledradio: Container for a styled radio
// xui-styledradio-reversed: Modifier for a right-aligned styled radio
// xui-styledradio--focus: Subcomponent for focus layer of a styled radio
// xui-styledradio--main: Subcomponent for main layer of a styled radio
// xui-styledradio--check: Subcomponent for checkmark layer of a styled radio
// xui-styledradio--label: Subcomponent for label text of a styled radio
//
// Weight: 4.1
//
// Styleguide: Checkboxes and Radios

// Styled Inline Checkboxes
//
// Markup:
// <label class="xui-styledcheckbox">
//   <input type="checkbox">
//   <svg focusable="false" class="xui-icon">
//     <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-checkbox-main"/>
//     <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-checkbox-main"/>
//     <use role="presentation" class="xui-styledcheckbox--check" xlink:href="#xui-icon-checkbox-check"/>
//     <use role="presentation" class="xui-styledcheckbox--indeterminate" xlink:href="#xui-icon-checkbox-indeterminate"/>
//   </svg>
//   <span class="xui-styledcheckbox--label">Unchecked</span>
// </label>
// <label class="xui-styledcheckbox">
//   <input type="checkbox" checked>
//   <svg focusable="false" class="xui-icon">
//     <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-checkbox-main"/>
//     <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-checkbox-main"/>
//     <use role="presentation" class="xui-styledcheckbox--check" xlink:href="#xui-icon-checkbox-check"/>
//     <use role="presentation" class="xui-styledcheckbox--indeterminate" xlink:href="#xui-icon-checkbox-indeterminate"/>
//   </svg>
//   <span class="xui-styledcheckbox--label">Checked</span>
// </label>
// <label class="xui-styledcheckbox xui-is-disabled">
//   <input type="checkbox" disabled>
//   <svg focusable="false" class="xui-icon">
//     <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-checkbox-main"/>
//     <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-checkbox-main"/>
//     <use role="presentation" class="xui-styledcheckbox--check" xlink:href="#xui-icon-checkbox-check"/>
//     <use role="presentation" class="xui-styledcheckbox--indeterminate" xlink:href="#xui-icon-checkbox-indeterminate"/>
//   </svg>
//   <span class="xui-styledcheckbox--label">Disabled</span>
// </label>
// <label class="xui-styledcheckbox xui-is-disabled">
//   <input type="checkbox" checked disabled>
//   <svg focusable="false" class="xui-icon">
//     <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-checkbox-main"/>
//     <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-checkbox-main"/>
//     <use role="presentation" class="xui-styledcheckbox--check" xlink:href="#xui-icon-checkbox-check"/>
//     <use role="presentation" class="xui-styledcheckbox--indeterminate" xlink:href="#xui-icon-checkbox-indeterminate"/>
//   </svg>
//   <span class="xui-styledcheckbox--label">Checked and disabled</span>
// </label>
//
// Styleguide: Checkboxes and Radios.2

// Styled Inline Radios (right-aligned)
//
// Markup:
// <label class="xui-styledradio xui-styledradio-reversed">
//   <input type="radio" id="r0" name="rg0">
//   <svg focusable="false" class="xui-icon">
//     <use role="presentation" class="xui-styledradio--focus" xlink:href="#xui-icon-radio-main"/>
//     <use role="presentation" class="xui-styledradio--main" xlink:href="#xui-icon-radio-main"/>
//     <use role="presentation" class="xui-styledradio--check" xlink:href="#xui-icon-radio-check"/>
//   </svg>
//   <span class="xui-styledradio--label">Unchecked</span>
// </label>
// <label class="xui-styledradio xui-styledradio-reversed">
//   <input type="radio" id="r1" name="rg0" checked>
//   <svg focusable="false" class="xui-icon">
//     <use role="presentation" class="xui-styledradio--focus" xlink:href="#xui-icon-radio-main"/>
//     <use role="presentation" class="xui-styledradio--main" xlink:href="#xui-icon-radio-main"/>
//     <use role="presentation" class="xui-styledradio--check" xlink:href="#xui-icon-radio-check"/>
//   </svg>
//   <span class="xui-styledradio--label">Checked</span>
// </label>
// <label class="xui-styledradio xui-styledradio-reversed xui-is-disabled">
//   <input type="radio" disabled>
//   <svg focusable="false" class="xui-icon">
//     <use role="presentation" class="xui-styledradio--focus" xlink:href="#xui-icon-radio-main"/>
//     <use role="presentation" class="xui-styledradio--main" xlink:href="#xui-icon-radio-main"/>
//     <use role="presentation" class="xui-styledradio--check" xlink:href="#xui-icon-radio-check"/>
//   </svg>
//   <span class="xui-styledradio--label">Disabled</span>
// </label>
// <label class="xui-styledradio xui-styledradio-reversed xui-is-disabled">
//   <input type="radio" checked disabled>
//   <svg focusable="false" class="xui-icon">
//     <use role="presentation" class="xui-styledradio--focus" xlink:href="#xui-icon-radio-main"/>
//     <use role="presentation" class="xui-styledradio--main" xlink:href="#xui-icon-radio-main"/>
//     <use role="presentation" class="xui-styledradio--check" xlink:href="#xui-icon-radio-check"/>
//   </svg>
//   <span class="xui-styledradio--label">Checked and disabled</span>
// </label>
//
// Styleguide: Checkboxes and Radios.3

// Styled Lonley Checkbox
//
// Markup:
// <label class="xui-text-label xui-fieldlabel-layout">Lonely checkbox</label>
// <div class="xui-styledcheckbox-group">
//   <label class="xui-styledcheckbox">
//     <input type="checkbox" checked>
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--check" xlink:href="#xui-icon-checkbox-check"/>
//       <use role="presentation" class="xui-styledcheckbox--indeterminate" xlink:href="#xui-icon-checkbox-indeterminate"/>
//     </svg>
//     <span class="xui-styledcheckbox--label">So lonely...</span>
//   </label>
// </div>
//
// Styleguide: Checkboxes and Radios.4

// Styled Multiline Checkbox
//
// Markup:
// <label class="xui-text-label xui-fieldlabel-layout">Multiline checkbox</label>
// <div class="xui-styledcheckbox-group">
//   <label class="xui-styledcheckbox">
//     <input type="checkbox" checked>
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--check" xlink:href="#xui-icon-checkbox-check"/>
//       <use role="presentation" class="xui-styledcheckbox--indeterminate" xlink:href="#xui-icon-checkbox-indeterminate"/>
//     </svg>
//     <span class="xui-styledcheckbox--label">Stick this in your checkbox<br>and wrap it!</span>
//   </label>
// </div>
//
// Styleguide: Checkboxes and Radios.5

// Styled Checkbox Groups
//
// Markup:
// <label class="xui-text-label xui-fieldlabel-layout">Childhood checklist</label>
// <div class="xui-styledcheckbox-group">
//   <label class="xui-styledcheckbox">
//     <input type="checkbox">
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--check" xlink:href="#xui-icon-checkbox-check"/>
//       <use role="presentation" class="xui-styledcheckbox--indeterminate" xlink:href="#xui-icon-checkbox-indeterminate"/>
//     </svg>
//     <span class="xui-styledcheckbox--label">Milk</span>
//   </label>
//   <label class="xui-styledcheckbox">
//     <input type="checkbox">
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--check" xlink:href="#xui-icon-checkbox-check"/>
//       <use role="presentation" class="xui-styledcheckbox--indeterminate" xlink:href="#xui-icon-checkbox-indeterminate"/>
//     </svg>
//     <span class="xui-styledcheckbox--label">Cookies</span>
//   </label>
//   <label class="xui-styledcheckbox">
//     <input type="checkbox">
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-checkbox-main"/>
//       <use role="presentation" class="xui-styledcheckbox--check" xlink:href="#xui-icon-checkbox-check"/>
//       <use role="presentation" class="xui-styledcheckbox--indeterminate" xlink:href="#xui-icon-checkbox-indeterminate"/>
//     </svg>
//     <span class="xui-styledcheckbox--label">View-Master!</span>
//   </label>
// </div>
//
// Styleguide: Checkboxes and Radios.6

// Styled Radio Groups
//
// Markup:
// <label class="xui-text-label xui-fieldlabel-layout">Choose your favourite Star Trek character</label>
// <div class="xui-styledradio-group">
//   <label class="xui-styledradio">
//     <input type="radio" id="r2" name="rg1">
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledradio--focus" xlink:href="#xui-icon-radio-main"/>
//       <use role="presentation" class="xui-styledradio--main" xlink:href="#xui-icon-radio-main"/>
//       <use role="presentation" class="xui-styledradio--check" xlink:href="#xui-icon-radio-check"/>
//     </svg>
//     <span class="xui-styledradio--label">Jean-Luc Picard</span>
//   </label>
//   <label class="xui-styledradio">
//     <input type="radio" id="r3" name="rg1" checked>
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledradio--focus" xlink:href="#xui-icon-radio-main"/>
//       <use role="presentation" class="xui-styledradio--main" xlink:href="#xui-icon-radio-main"/>
//       <use role="presentation" class="xui-styledradio--check" xlink:href="#xui-icon-radio-check"/>
//     </svg>
//     <span class="xui-styledradio--label">Deanna Troi</span>
//   </label>
//   <label class="xui-styledradio">
//     <input type="radio" id="r4" name="rg1">
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledradio--focus" xlink:href="#xui-icon-radio-main"/>
//       <use role="presentation" class="xui-styledradio--main" xlink:href="#xui-icon-radio-main"/>
//       <use role="presentation" class="xui-styledradio--check" xlink:href="#xui-icon-radio-check"/>
//     </svg>
//     <span class="xui-styledradio--label">Geordi La Forge</span>
//   </label>
//   <label class="xui-styledradio xui-is-disabled">
//     <input type="radio" disabled>
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledradio--focus" xlink:href="#xui-icon-radio-main"/>
//       <use role="presentation" class="xui-styledradio--main" xlink:href="#xui-icon-radio-main"/>
//       <use role="presentation" class="xui-styledradio--check" xlink:href="#xui-icon-radio-check"/>
//     </svg>
//     <span class="xui-styledradio--label">Wesley Crusher</span>
//   </label>
// </div>
//
// Styleguide: Checkboxes and Radios.7

// Styled Checkbox Stars
//
// Markup:
// <label class="xui-text-label xui-fieldlabel-layout">Tonight Matthew, I'm going to be...</label>
// <div class="xui-styledcheckbox-group">
//   <label class="xui-styledcheckbox xui-styledcheckbox-reversed">
//     <input type="checkbox">
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-star"/>
//       <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-star"/>
//     </svg>
//     <span class="xui-styledcheckbox--label">Cliff Richard</span>
//   </label>
//   <label class="xui-styledcheckbox xui-styledcheckbox-reversed">
//     <input type="checkbox">
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-star"/>
//       <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-star"/>
//     </svg>
//     <span class="xui-styledcheckbox--label">Celine Dion</span>
//   </label>
//   <label class="xui-styledcheckbox xui-styledcheckbox-reversed">
//     <input type="checkbox">
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-star"/>
//       <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-star"/>
//     </svg>
//     <span class="xui-styledcheckbox--label">Engelbert Humperdinck</span>
//   </label>
//   <label class="xui-styledcheckbox xui-styledcheckbox-reversed">
//     <input type="checkbox">
//     <svg focusable="false" class="xui-icon">
//       <use role="presentation" class="xui-styledcheckbox--focus" xlink:href="#xui-icon-star"/>
//       <use role="presentation" class="xui-styledcheckbox--main" xlink:href="#xui-icon-star"/>
//     </svg>
//     <span class="xui-styledcheckbox--label">At home, eating ice cream in my pajamas</span>
//   </label>
// </div>
//
// Styleguide: Checkboxes and Radios.8


// Group styles
// ============
.#{$ns}-styledcheckbox-group,
.#{$ns}-styledradio-group {
	border: $xui-border-standard;
	border-radius: $xui-radius;

	.#{$ns}-styledcheckbox,
	.#{$ns}-styledradio {
		display: flex; // Stacked inputs
		padding: 4px; // Border padding
	}

	.#{$ns}-styledcheckbox:nth-last-of-type(n+2),
	.#{$ns}-styledradio:nth-last-of-type(n+2) {
		border-bottom: $xui-border-standard;
	}
}


// Label spacing
// =============
.#{$ns}-styledcheckbox--label,
.#{$ns}-styledradio--label {
	flex-grow: 1;
	padding: 6px 3px 3px;

	.#{$ns}-is-disabled & {
		color: $xui-color-grey-alpha-4;
	}
}


// Right-aligned input
// ===================
.#{$ns}-styledcheckbox-reversed,
.#{$ns}-styledradio-reversed {
	flex-direction: row-reverse;
	justify-content: space-between;
}


// Main styles
// ===========
.#{$ns}-styledcheckbox,
.#{$ns}-styledradio {
	@include xui-text-line-height; // 1.5
	align-items: flex-start;
	display: inline-flex; // Inline inputs
	user-select: none;

	// Hide HTML input
	input {
		@include xui-position-offscreen-input;
	}

	// TODO: Opacity override
	&.#{$ns}-is-disabled {
		fill: $xui-color-grey-alpha-4;
		opacity: 1;
	}
}

.#{$ns}-styledcheckbox svg,
.#{$ns}-styledradio svg {
	flex-shrink: 0; // Prevent SVG from shrinking when label text is long
	pointer-events: none;
}

.#{$ns}-styledcheckbox--focus,
.#{$ns}-styledcheckbox--main,
.#{$ns}-styledcheckbox--check,
.#{$ns}-styledcheckbox--indeterminate,
.#{$ns}-styledradio--focus,
.#{$ns}-styledradio--main,
.#{$ns}-styledradio--check {
	transition: all $xui-motion-speed-fast ease;
}

.#{$ns}-styledcheckbox--focus,
.#{$ns}-styledradio--focus {
	opacity: 0; // Hide focus
	stroke: transparent;
	stroke-linejoin: round;
	stroke-width: 6;
}

.#{$ns}-styledcheckbox--main,
.#{$ns}-styledradio--main {
	fill: $xui-color-white;
	stroke: $xui-color-grey-alpha-4;
	stroke-linejoin: round;
}

.#{$ns}-styledcheckbox--check,
.#{$ns}-styledcheckbox--indeterminate,
.#{$ns}-styledradio--check {
	fill: transparent;
	opacity: 0; // Hide checkmark
}


// Unchecked styles
// ================

// Hover
input:hover + svg {

	.#{$ns}-styledcheckbox--main,
	.#{$ns}-styledradio--main {
		stroke: $xui-color-grey-3;
	}
}

// Focus, not hover
input:focus:not(:hover) + svg {

	// Focus layer to match box-shadow on standard HTML inputs ($xui-shadow-focus)
	// TODO: Remove focus layer and use CSS filters on main layer instead
	// 			 At time of commit (27 May 2016) CSS filters lack sufficient browser support
	// 			 https://developer.mozilla.org/en/docs/Web/CSS/filter
	.#{$ns}-styledcheckbox--focus,
	.#{$ns}-styledradio--focus {
		opacity: 1; // Show focus
		stroke: $xui-color-grey-alpha-6;
	}

	.#{$ns}-styledcheckbox--main,
	.#{$ns}-styledradio--main {
		stroke: $xui-color-grey-3;
	}
}

// Active
input:active + svg {

	.#{$ns}-styledcheckbox--focus,
	.#{$ns}-styledradio--focus {
		opacity: 0; // Hide focus
		stroke: transparent;
	}

	.#{$ns}-styledcheckbox--main,
	.#{$ns}-styledradio--main {
		fill: darken($xui-color-white, 7%);
	}
}


// Checked styles
// ==============

// Checked
input:checked + svg {

	.#{$ns}-styledcheckbox--main,
	.#{$ns}-styledradio--main {
		fill: $xui-color-xero-blue;
		stroke: $xui-color-xero-blue;
	}

	.#{$ns}-styledcheckbox--check,
	.#{$ns}-styledradio--check {
		fill: $xui-color-white;
		opacity: 1; // Show checkmark
	}
}

// Checked, hover/focus
input:checked:hover + svg,
input:checked:focus + svg {

	.#{$ns}-styledcheckbox--main,
	.#{$ns}-styledradio--main {
		fill: darken($xui-color-xero-blue, 7%);
		stroke: darken($xui-color-xero-blue, 7%);
	}
}

// Checked, active
input:checked:active + svg {

	.#{$ns}-styledcheckbox--main,
	.#{$ns}-styledradio--main {
		fill: $xui-color-xero-blue;
		stroke: darken($xui-color-xero-blue, 7%);
	}
}

// Indeterminate checkbox styles
// =============================

// Indeterminate
input:indeterminate + svg {

	.#{$ns}-styledcheckbox--main {
		fill: $xui-color-xero-blue;
		stroke: $xui-color-xero-blue;
	}

	.#{$ns}-styledcheckbox--check {
		fill: transparent;
		opacity: 0; // Hide checkmark
	}

	.#{$ns}-styledcheckbox--indeterminate {
		fill: $xui-color-white;
		opacity: 1; // Show indeterminate
	}
}

// Indeterminate, hover/focus
input:indeterminate:hover + svg,
input:indeterminate:focus + svg {

	.#{$ns}-styledcheckbox--main {
		fill: darken($xui-color-xero-blue, 7%);
		stroke: darken($xui-color-xero-blue, 7%);
	}
}

// Indeterminate, active
input:indeterminate:active + svg {

	.#{$ns}-styledcheckbox--main {
		fill: $xui-color-xero-blue;
		stroke: darken($xui-color-xero-blue, 7%);
	}
}

// Disabled styles
// ===============
input:disabled + svg,
input:disabled:hover + svg {

	.#{$ns}-styledcheckbox--main,
	.#{$ns}-styledradio--main {
		fill: $xui-color-grey-6; // TODO: Update $xui-color-grey-alpha-5 to use $xui-color-grey-6
		stroke: $xui-color-grey-alpha-4;
	}

	.#{$ns}-styledcheckbox--check,
	.#{$ns}-styledcheckbox--indeterminate,
	.#{$ns}-styledradio--check {
		fill: $xui-color-grey-4; // TODO: Update $xui-color-grey-alpha-4 to use $xui-color-grey-4
	}
}
