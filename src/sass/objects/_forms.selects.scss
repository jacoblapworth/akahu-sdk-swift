@import "../vars";
@import "../mixins";

// Selects

// Native Selects
//
// For use when you want to display native controls on devices that support pretty controls
// Examples include iOS and Android devices. The `xui-selectwrapper` class provides the caret
// in a consistent cross-browser manner.
//
// Markup:
//	<div class="xui-selectwrapper">
//		<select class="xui-select" id="group-button-example3">
//			<option>Value 1</option>
//			<option>Value 2</option>
//			<option>Value 3</option>
//		</select>
//	</div>
//
// Styleguide: Forms.8

.#{$ns}-select {
	position: relative;
}

select.#{$ns}-select {
	@extend %#{$ns}-commoninput;

	cursor: pointer;
	padding-right: 20px;

	&::-ms-expand {
		display: none;
	}

	&:-moz-focusring {
		color: transparent;
		text-shadow: 0 0 0 $xui-color-black;
	}
}

.#{$ns}-selectwrapper {
	position: relative;

	&::after {
		@include xui-caret;

		content: " ";
		height: 0;
		pointer-events: none;
		position: absolute;
		right: 8px;
		top: calc(50% - 2px);
		vertical-align: middle;
		width: 0;
	}
}

.#{$ns}-select--caret {
	@include xui-caret;
	position: absolute;
	right: 20px;
	top: calc(50% - 2px);
	vertical-align: middle;
}

// Styled Select Boxes
//
// This is the intended style for select boxes.
// It requires a JS implementation / framework on top to take the selected item and
// insert it into the input. Inputs should be hidden.
//
// Rules for the `<button>`
//
// Dropdown Hidden state : Remove class `xui-select--button-is-selected`
//
// Dropdown Not hidden state : Add class `xui-select--button-is-selected`
//
//
// Rules for the `<div class="xui-dropdownmenu-select">`
//
// Dropdown Hidden state : Add class `xui-dropdownmenu-is-closed`
//
// Dropdown Not hidden state : Remove class `xui-dropdownmenu-is-closed`
//
// Markup:
// <div class="xui-field">
//  <label class="xui-text-label">Custom</label>
//  <div class="xui-select">
//		<input type="hidden" value="Select option 1"/>
//		<button type="button" class="xui-button xui-select--button xui-select--button-is-selected" aria-haspopup="true">
//			Select option 1
//		</button>
//		<div class="xui-dropdownmenu xui-dropdownmenu-select" aria-hidden="true">
//			<div class="xui-dropdownmenu--body">
//				<ul class="xui-menugroup xui-menugroup-layout" role="menu">
//					<li class="xui-menuitem xui-menuitem-is-selected" role="menuitem">
//						<a href="#" class="xui-menuitem--body">Select option 1</a>
//					</li>
//					<li class="xui-menuitem" role="menuitem">
//						<a href="#" class="xui-menuitem--body">Select option 2</a>
//					</li>
//					<li class="xui-menuitem" role="menuitem">
//						<a href="#" class="xui-menuitem--body">Select option 3</a>
//					</li>
//				</ul>
//			</div>
//		</div>
//  </div>
// </div>
//
// Styleguide: Forms.9

.#{$ns}-select--button {
	background-color: transparent;
	color: $xui-color-primary-text;
	display: block;
	font-weight: normal;
	line-height: 33px;
	overflow: hidden;
	padding: $xui-s-xsmall $xui-s-xxlarge $xui-s-xsmall $xui-s-standard;
	text-align: left;
	text-overflow: ellipsis;
	white-space: nowrap;
	width: 100%;

	&::after {
		@include xui-caret;
		content: " ";
		position: absolute;
		right: 20px;
		top: calc(50% - 2px);
	}
}

.#{$ns}-select--button-is-selected {
	border: $xui-border-standard;
	border-color: $xui-color-xero-blue $xui-color-xero-blue transparent;
	border-radius: $xui-radius $xui-radius 0 0;

	&:hover,
	&:focus,
	&:active {
		border-color: $xui-color-xero-blue $xui-color-xero-blue transparent;
	}
}

.#{$ns}-select .#{$ns}-dropdownmenu-select {
	border-color: $xui-color-xero-blue;
	border-radius: 0 0 $xui-radius $xui-radius;
	border-top: 0;
	left: 0;
	position: absolute;
	top: 40px;
	transition: $xui-transition-duration-short all $xui-easing-standard;
	width: 100%;
	z-index: 1;
}
