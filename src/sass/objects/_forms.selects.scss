@import "../vars";
@import "../mixins";

// Selects

// Native Selects
//
// For use when you want to display native controls on devices that support pretty controls
// Examples include iOS and Android devices.
//
// #### Class Names
//
// `xui-select`	Container for a native or custom select box
//
// `xui-select--caret`	Subcomponent for a select caret icon
//
// `xui-select--control`	Style for a native select box
//
// Markup:
//  <div class="xui-select">
//    <select class="xui-select--control" id="group-button-example3">
//      <option>Value 1</option>
//      <option>Value 2</option>
//      <option>Value 3</option>
//    </select>
//    <svg focusable="false" class="xui-icon xui-icon-color-standard xui-select--caret"> <use xlink:href="#xui-icon-caret" role="presentation" /></svg>
//  </div>
//
// Styleguide: Forms.8

.#{$ns}-select {
	position: relative;
}

.#{$ns}-select--control {
	@extend %#{$ns}-commoninput;

	cursor: pointer;
	padding-right: 20px;

	&::-ms-expand {
		display: none;
	}

	&:-moz-focusring {
		color: transparent;
		text-shadow: 0 0 0 $xui-color-black;
	}
}

.#{$ns}-select--caret {
	pointer-events: none;
	position: absolute;
	right: 3px;
	top: calc(50% - 15px);
}

// Styled Select Boxes
//
// This is the intended style for select boxes.
// It requires a JS implementation / framework on top to take the selected item and
// insert it into the input. Inputs should be hidden.
//
// Rules for the `<button>`:
//
// Dropdown Hidden state : Remove class `xui-select--button-is-selected`
//
// Dropdown Not hidden state : Add class `xui-select--button-is-selected`
//
// #### Class Names
//
// `xui-select-layout`	Recommended layout for a custom select box
//
// `xui-select--button`	Subcomponent for a custom select box button
//
// `xui-select--button-is-selected`	Modifier for a selected select box button
//
// Markup:
// <div class="xui-select xui-select-layout">
//   <input type="hidden" value="Select option 1"/>
//   <button type="button" class="xui-button xui-select--button xui-select--button-is-selected pseudo-class-active" aria-haspopup="true">
//     Select option 3
//   </button>
//   <svg focusable="false" class="xui-icon xui-icon-color-standard xui-select--caret"> <use xlink:href="#xui-icon-caret" role="presentation" /></svg>
//   <div class="xui-dropdown-layout xui-dropdown-is-open xui-dropdown-is-opening">
//     <div class="xui-dropdown--mask"></div>
//     <div class="xui-dropdown--body">
//       <ul class="xui-picklist">
//         <li class="xui-pickitem" tabindex="0">
//           <button class="xui-pickitem--body" tabindex="-1">Select option 1</button>
//         </li>
//         <li class="xui-pickitem" tabindex="0">
//           <button class="xui-pickitem--body" tabindex="-1">Select option 2</button>
//         </li>
//         <li class="xui-pickitem xui-pickitem-is-selected" tabindex="0">
//           <button class="xui-pickitem--body" tabindex="-1">Select option 3</button>
//         </li>
//       </ul>
//     </div>
//   </div>
// </div>
//
// Styleguide: Forms.9

.#{$ns}-select--button {
	background-color: transparent;
	border: $xui-border-standard;
	border-radius: $xui-radius;
	color: $xui-color-primary-text;
	display: block;
	font-weight: normal;
	min-height: $xui-input-height;
	overflow: hidden;
	padding: $xui-s-small $xui-s-huge $xui-s-small $xui-s-standard;
	text-align: left;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.#{$ns}-select--button-is-selected {

	border: $xui-border-standard;
	border-color: $xui-color-border;
	border-radius: $xui-radius $xui-radius 0 0;

	@include xui-breakpoint-narrow {
		border-radius: $xui-radius;
	}
}

.#{$ns}-dropdownmenu-select {
	border-color: $xui-color-border;
	border-radius: 0 0 $xui-radius $xui-radius;
	border-top: 0;
}

.#{$ns}-select-layout {

	.#{$ns}-dropdown--body {
		border: $xui-border-standard;
		border-radius: 0 0 $xui-radius $xui-radius;
		border-top: 0;
		margin-top: -1px;

		@include xui-breakpoint-narrow {
			border: 0;
			border-radius: 0;
		}
	}

	.#{$ns}-select--button {
		width: 100%;
	}
}
