@import "colors/colors";

// Filters
//
// Filters are a way to operate over a set of data, and change the view to show the new set of data based on your chosen filter
//
// Styleguide: Navigation.4

// Sidebar filters
//
// Sidebar filters are used to filter content that is displayed in an associated panel / section
//
// Markup:
// <div class="xui-page-width-standard xui-page-layout-sidebar-left">
//   <div class="xui-page-layout-sidebar-left--sidebar">
//     <label class="xui-sidebarsummary" for="everythingFilters">
//       <strong>I'm the selected sidebarfilter</strong>
//     </label>
//     <input type="checkbox" class="xui-sidebarsummary--control" id="everythingFilters" />
//     <div class="xui-sidebarfilters-multiple">
//       <ul class="xui-sidebarfilters">
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <a class="xui-sidebarfilter--body" href="#Filter1">Filter 1</a>
//         </li>
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <a class="xui-sidebarfilter--body" href="#Filter2">
//             <span class="xui-layout-column-8-of-9 xui-text-truncated">Some filter with some more content that actually doesn't fit the space</span>
//             <span class="xui-layout-column-1-of-9 xui-text-secondary xui-text-rightaligned">10</span>
//           </a>
//         </li>
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <a class="xui-sidebarfilter--body" href="#Filter3">Another filter</a>
//           <ul class="xui-sidebarfilters">
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">
//                   <strong>Sub filters!</strong>
//                 </span>
//               </a>
//             </li>
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">Sub filters!</span>
//               </a>
//             </li>
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">Sub filters!</span>
//               </a>
//             </li>
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">Sub filters!</span>
//               </a>
//             </li>
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">Sub filters!</span>
//               </a>
//             </li>
//           </ul>
//         </li>
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <a class="xui-sidebarfilter--body" href="#Filter4">Filter 4</a>
//         </li>
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <a class="xui-sidebarfilter--body" href="#Filter5">Fifth Element</a>
//         </li>
//       </ul>
//       <ul class="xui-sidebarfilters">
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <a class="xui-sidebarfilter--body" href="#Filter1">Filter 1</a>
//         </li>
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <a class="xui-sidebarfilter--body" href="#Filter2">Some filter</a>
//         </li>
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <label class="xui-sidebarfilter--body" for="navControl1">
//             Click me I expand!
//           </label>
//           <input type="checkbox" class="xui-sidebarfilter--control" id="navControl1" />
//           <ul class="xui-sidebarfilters">
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">
//                   <strong>Sub filters!</strong>
//                 </span>
//               </a>
//             </li>
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">Sub filters!</span>
//               </a>
//             </li>
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">Sub filters!</span>
//               </a>
//             </li>
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body xui-grid" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">Sub filters!</span>
//               </a>
//             </li>
//             <li class="xui-sidebarfilter" aria-selected="false">
//               <a class="xui-sidebarfilter--body xui-grid" href="#Filter1">
//                 <span class="xui-layout-column-1-of-10"></span>
//                 <span class="xui-layout-column-9-of-10">Sub filters!</span>
//               </a>
//             </li>
//           </ul>
//         </li>
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <a class="xui-sidebarfilter--body" href="#Filter4">Filter 4</a>
//         </li>
//         <li class="xui-sidebarfilter" aria-selected="false">
//           <a class="xui-sidebarfilter--body" href="#Filter5">Fifth Element</a>
//         </li>
//       </ul>
//     </div>
//   </div>
//   <div class="xui-panel xui-page-layout-sidebar-left--main">
//     A panel would live here
//   </div>
// </div>
//
// Styleguide: Navigation.4.3

@mixin xui-hide-control() {
	display: none;
}

@mixin xui-collapse-list() {
	max-height: 0;
	overflow: hidden;
	transition: max-height $xui-transition-duration-medium linear;
}

@mixin xui-expand-list() {
	max-height: 100vh; // Set huge, because you most likely will never get this big, but gotta be safe here
}

.#{$ns}-sidebarfilters {
	margin: 0;
	padding: 0;
}

.#{$ns}-sidebarfilter {
	list-style: none;
}

.#{$ns}-sidebarfilter--control {
	@include xui-hide-control();

	& + .#{$ns}-sidebarfilters {
		@include xui-collapse-list();
	}

	&:checked + .#{$ns}-sidebarfilters {
		@include xui-expand-list();
	}
}

.#{$ns}-sidebarsummary--control {
	@include xui-hide-control();

	@include xui-breakpoint-narrow() {

		& + .#{$ns}-sidebarfilters, & + .#{$ns}-sidebarfilters-multiple {
			@include xui-collapse-list();
		}

		&:checked + .#{$ns}-sidebarfilters, &:checked + .#{$ns}-sidebarfilters-multiple {
			@include xui-expand-list();
		}

	}

}

.#{$ns}-sidebarfilter--body, .#{$ns}-sidebarsummary {
	@include xui-padding($xui-s-small / 2);
	color: $xui-color-primary-text;
	display: flex;
	width: 100%;

	&:hover {
		background-color: darken($xui-color-background, 5%);
	}
}

.#{$ns}-sidebarsummary {
	@include xui-hide-control();

	@include xui-breakpoint-narrow() {
		display: flex;
	}
}

.#{$ns}-sidebarfilters-multiple {

	.#{$ns}-sidebarfilters {
		@include xui-padding-bottom($xui-s-small);

		&:last-child {
			@include xui-padding-bottom(0);
		}
	}

	.#{$ns}-sidebarfilters + .#{$ns}-sidebarfilters {
		@include xui-padding-top($xui-s-small);
		border-top: $xui-border-standard;
	}
}
