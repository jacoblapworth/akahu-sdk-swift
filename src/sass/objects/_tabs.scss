/**
 * Styles for the tabbed elements.  These typically sit above <section>
 * elements, controlling the display of them.
 */

@import "../tools/mixins";
@import "../settings/colours";

// Tabs
//
// Applied to sections that have tabs in them, removes the padding so that the
// bottom of the tabs are flush with the top of the section they manage.
// NOTE: Keep an eye on this one... there might be a better way to declare a
//       tab section without having to undo existing section padding.
//
// Markup:
//	<div class="xui-tabbed-navigation">
//		<div class="xui-tabgroup">
//			<div class="xui-tab">
//				<a href="#default">Default</a>
//			</div>
//			<div class="xui-tab-is-selected">Default selected</div>
//			<div class="xui-tab-pagenav">
//				<a href="#g-header">Page nav</a>
//			</div>
//			<div class="xui-tab-pagenav-is-selected">Page nav selected</div>
//		</div>
//	</div>
//
// Styleguide: Tabs
.#{$ns}-tabbed-navigation {
	padding-bottom: 0;
}

.#{$ns}-tabgroup {
	color: $color-secondary-text;
	display: flex;
	justify-content: center;
	list-style: none;
	margin: 0;
	padding: 0;
}

// Put all the variations of tabs you need in here
// Makes for an easy place to store and create new variations of tabs with different colours.
$variations: (
	"#{$ns}-tab":($color-secondary-text, $color-primary-text, transparent),
	"#{$ns}-tab-pagenav":($color-reversed-text, $color-xero-light-blue, transparent)
);

$selected-variations: (
	"#{$ns}-tab-is-selected":($color-primary-text, $color-primary-text, $color-primary-text),
	"#{$ns}-tab-pagenav-is-selected":($color-xero-light-blue, $color-xero-light-blue, $color-xero-light-blue)
);

@mixin children ($classname) {

	.#{$classname} {
		&:first-of-type {
			padding-left: 0;
		}

		&:last-of-type {
			padding-right: 0;
		}
	}

}

.#{$ns}-tabgroup-start {
	justify-content: flex-start;

	@each $variation, $colors in $variations {
		@include children(#{$variation});
	}

}

@mixin anchorstyles ($color: $color-primary-text) {
	color: $color;
	cursor: pointer;
	display: inline-block;
	line-height: 1.3em;
	padding: 0.5em 1em 0;
	text-align: center;
}

// Individual tabs
// -----------------------------------------------------------------------------

@mixin xuitab ($color: $color-secondary-text, $hover-color: $color-primary-text, $border-color: transparent) {
	margin: 0;

	a {
		@include anchorstyles($color);

		&:after {
			background-color: $border-color;
			content: " ";
			display: block;
			height: 3px;
			margin-top: 6px;
		}

		&:hover {
			color: $hover-color;
			text-decoration: none; // Fix for no more normalize

			&:after {
				background-color: $hover-color;
			}
		}
	}
}

@mixin xuiselectedtab ($color: $color-secondary-text, $hover-color: $color-primary-text, $border-color: transparent) {
	@include anchorstyles($color);

	&:after {
		background-color: $border-color;
		content: " ";
		display: block;
		height: 3px;
		margin-top: 6px;
	}

	&:hover {
		color: $hover-color;
		text-decoration: none; // Fix for no more normalize

		&:after {
			background-color: $hover-color;
		}
	}
}

@each $variation, $colors in $variations {
	.#{$variation} {
		@include xuitab(nth($colors, 1), nth($colors, 2), nth($colors, 3));
	}
}

@each $variation, $colors in $selected-variations {
	.#{$variation} {
		@include xuiselectedtab(nth($colors, 1), nth($colors, 2), nth($colors, 3));
	}
}
