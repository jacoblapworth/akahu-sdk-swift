@import "../vars";
@import "../mixins";

// Banners
//
// Banners have been deprecated, as they perpetuate bad validation practices. Use inline validation instead.
//
// Weight: 4.1
//
// Styleguide: Banner

// Deprecated classes
//
// <img src="https://img.shields.io/badge/Deprecated%20in-10.23.0-%23f6534e.svg" />
// <img src="https://img.shields.io/badge/Removed%20in-12.0.0-lightgrey.svg" />
//
// Classes:
// xui-banner: Container for a banner
// xui-banner--action: Container for a banner action
// xui-banner--actions: Container for a group of banner actions
// xui-banner--close: Subcomponent for a banner close button
// xui-banner--link: Subcomponent for a banner link button
// xui-banner--message: Style for a banner message
// xui-banner--messagedetail: Style for additional banner message details
// xui-banner-animated: Recommended animation for a banner
// xui-banner-layout: Recommended layout for a banner
// xui-banner-negative: Modifier for a negative highlight banner
// xui-banner-positive: Modifier for a positive highlight banner
//
// Styleguide: Banner.1

// Basic usage
//
// Banner messages will default to left aligned.
//
// ### Accessibility
//
// **role="status"**: Use the `status` role when you want to convey relevant advisory information that doesn't justify
// using the alert role. For further information, please refer to the [MDN documentation](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_status_role)
//
// Markup:
//<div class="xui-banner xui-banner-layout xui-banner-animated" role="status">
//    <p class="xui-banner--message">Banner Message</p>
//</div>
//
// Styleguide: Banner.1.1

// Sentiment
//
// Positive and negative sentiment can be applied to banners through `xui-banner-positive` and `xui-banner-negative`.
//
// Negative sentiment styling is useful for for page level validation, usually they should not be dismissable.
//
// ### Accessibility
//
// **role="alert"**: It is recommended to use the `alert` role when using the error variant.
// `role="alert"` is limited to important and usually time-sensitive messages. Use only when you want to draw
// the users attention to the banner when you require their immediate attention. For further information, please
// refer to the [MDN documentation](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_alert_role)
//
// Markup:
// <div class="xui-banner xui-banner-layout xui-banner-animated xui-banner-positive" role="status">
//   <p class="xui-banner--message">Banner Message</p>
//   <ul class="xui-banner--actions">
//     <li class="xui-banner--action"><button class="xui-button xui-button-link xui-banner--link" type="button">Action One</button></li>
//     <li class="xui-banner--action"><a class="xui-banner--link" href="#someUrl">Action Two</a></li>
//     <li class="xui-banner--action"><button class="xui-button xui-button-link xui-banner--link" type="button">Action Three</button></li>
//   </ul>
// </div>
// <div class="xui-banner xui-banner-layout xui-banner-animated xui-banner-negative" role="alert">
//   <p class="xui-banner--message">Banner Message</p>
//   <ul class="xui-banner--actions">
//     <li class="xui-banner--action"><button class="xui-button xui-button-link xui-banner--link" type="button">Action One</button></li>
//     <li class="xui-banner--action"><a class="xui-banner--link" href="#someUrl">Action Two</a></li>
//     <li class="xui-banner--action"><button class="xui-button xui-button-link xui-banner--link" type="button">Action Three</button></li>
//   </ul>
// </div>
//
// Styleguide: Banner.1.2

// With Actions
//
// Actions will be right aligned
//
// Markup:
// <div class="xui-banner xui-banner-layout xui-banner-animated" role="status">
//   <p class="xui-banner--message">Banner Message</p>
//   <ul class="xui-banner--actions">
//     <li class="xui-banner--action"><button class="xui-button xui-button-link" type="button">Action One</button></li>
//     <li class="xui-banner--action"><a class="xui-banner--link" href="#someUrl">Action Two</a></li>
//     <li class="xui-banner--action"><button class="xui-button xui-button-link" type="button">Action Three</button></li>
//   </ul>
// </div>
//
// Styleguide: Banner.1.3

// Dismissible
//
// Some banners are dismissible and styled with a right aligned close cross.
//
// Markup:
// <div class="xui-banner xui-banner-layout xui-banner-animated" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-banner--close" title="Close" aria-label="Close">
//       <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <p class="xui-banner--message">Banner Message</p>
// </div>
//
// Styleguide: Banner.1.4

// With message detail
//
// Additional detail may be used for success and error banners and should be
// styled as left aligned secondary text.
//
// Markup:
// <div class="xui-banner xui-banner-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-banner--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <p class="xui-banner--message">Banner Message</p>
//   <div class="xui-banner--messagedetail xui-textcontent">
//     <ul>
//         <li>We've got this request</li>
//     </ul>
//   </div>
//   <ul class="xui-banner--actions">
//     <li class="xui-banner--action"><button class="xui-button xui-button-link xui-banner--link" type="button">Action One</button></li>
//     <li class="xui-banner--action"><a class="xui-banner--link" href="#someUrl">Action Two</a></li>
//     <li class="xui-banner--action"><button class="xui-button xui-button-link xui-banner--link" type="button">Action Three</button></li>
//   </ul>
// </div>
//
// Styleguide: Banner.1.5

.#{$ns}-banner {
	background-color: $xui-color-white;
	border: $xui-border-standard;
	border-radius: $xui-radius;
	color: $xui-color-grey-1;
	opacity: 1;
	position: relative;
	transition: opacity $xui-motion-speed-fast $xui-motion-curve-standard;
}

.#{$ns}-banner-positive::before {
	@include xui-highlight-left($xui-radius, true);
	background: $xui-color-xero-light-green;
}

.#{$ns}-banner-negative::before {
	@include xui-highlight-left($xui-radius, true);
	background: $xui-color-xero-red;
}

.#{$ns}-banner-layout {
	@include xui-padding($xui-s-small);
	@include xui-margin-bottom($xui-s-large);
	@include xui-margin-horizontal(auto);

	display: inline-block;
	width: 100%;

	@include xui-breakpoint-narrow {
		border-left: 0;
		border-radius: 0;
		border-right: 0;
		border-top: 0;
		margin-top: 0;
		width: 100%;

		&::before {
			border-radius: 0;
		}
	}

	.#{$ns}-banner--message {
		@include xui-margin-vertical($xui-s-xsmall);
		@include xui-margin-horizontal($xui-s-small);
	}

	.#{$ns}-banner--messagedetail {
		@include xui-margin-vertical($xui-s-xsmall);
		@include xui-margin-horizontal($xui-s-small);
	}

	.#{$ns}-banner--close {
		@include xui-margin-vertical(-2px);
	}

	.#{$ns}-banner--actions {
		margin: 0;
	}

	.#{$ns}-banner--link {
		@include xui-state-focus-transparent;
		display: inline-block;
		padding: $xui-s-actionlink;
	}

	.#{$ns}-banner--close ~ .#{$ns}-banner--message {
		max-width: calc(100% - 50px);
	}

	.#{$ns}-banner--close ~ .#{$ns}-banner--messagedetail {
		max-width: calc(100% - 50px);
	}
}


.#{$ns}-banner--message,
.#{$ns}-banner--actions {
	display: inline-block;
}

.#{$ns}-banner-animated {
	animation: #{$ns}-banner-animation $xui-motion-speed-fast;
}

.#{$ns}-banner--messagedetail {
	color: $xui-color-grey-alpha-2;
}

.#{$ns}-banner--actions,
.#{$ns}-banner--close {
	float: right;
}

.#{$ns}-banner--action {
	display: inline-block;
	font-weight: bold;
}

@keyframes #{$ns}-banner-animation {
	0% {
		margin-top: -$xui-s-large;
		opacity: 0;
	}

	100% {
		margin-top: 0;
		opacity: 1;
	}
}
