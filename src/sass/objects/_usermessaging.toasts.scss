@import "../vars";
@import "../mixins";

// Toasts
//
// Weight: 4.1
//
// Styleguide: Toast

// Best Practice
//
// Markdown: toasts/overview.md
//
// Styleguide: Toast.1

// CSS Class Reference
//
// Classes:
// xui-toast: Container for a toast
// xui-toast--action: Container for a toast action
// xui-toast--actions: Container for a group of toast actions
// xui-toast--close: Subcomponent for a toast close button
// xui-toast--link: Subcomponent for a toast link button
// xui-toast--message: Style for a toast message
// xui-toast-is-hidden: Hide the toast
// xui-toast-layout: Recommended layout for a toast
// xui-toast-list: Style for a description toast
// xui-toast-negative: Modifier for a negative highlight toast
// xui-toast-positive: Modifier for a positive highlight toast
//
// Styleguide: Toast.10

// Deprecated CSS Classes
//
// <img src="https://img.shields.io/badge/Deprecated%20in-10.22.0-%23f6534e.svg" />
// <img src="https://img.shields.io/badge/Removed%20in-11.0.0-lightgrey.svg" />
//
// Classes:
// xui-toast-wrapper: Deprecated Container for a group of toasts
//
// Styleguide: Toast.11

.#{$ns}-toast {
	@include xui-clearfix;
	background: transparentize($xui-color-white, 0.1);
	border: $xui-border-standard;
	border-radius: $xui-radius;
	box-shadow: $xui-shadow-depth-2;
	color: $xui-color-primary-text;
	max-width: 400px;
	opacity: 1;
	position: relative;
	transition: opacity $xui-motion-speed-fast $xui-motion-curve-standard;
	z-index: 10;
}

.#{$ns}-toast-positive::before {
	@include xui-highlight-left($xui-radius, true);
	background: $xui-color-xero-light-green;
}

.#{$ns}-toast-negative::before {
	@include xui-highlight-left($xui-radius, true);
	background: $xui-color-xero-red;
}

.#{$ns}-toast-layout {
	@include xui-margin($xui-s-large);
	@include xui-padding($xui-s-small);
	@include xui-breakpoint-narrow {
		border-bottom: 0;
		border-left: 0;
		border-radius: 0;
		border-right: 0;
		margin: 0;
		max-width: none;
		width: 100%;

		&::before {
			border-radius: 0;
		}

		.#{$ns}-toast--close ~ .#{$ns}-toast--message {
			max-width: calc(100% - 80px);
		}
	}

	.#{$ns}-toast--close {
		@include xui-margin-vertical(-2px);
	}

	.#{$ns}-toast--message {
		@include xui-margin-horizontal($xui-s-small);
		@include xui-margin-vertical($xui-s-xsmall);
	}

	.#{$ns}-toast--actions {
		margin: 0;
		padding: 0;
	}

	.#{$ns}-toast--link {
		@include xui-state-focus-transparent;
		display: inline-block;
		padding: $xui-s-actionlink;
	}

	.#{$ns}-toast--close ~ .#{$ns}-toast--message {
		max-width: 320px;
	}
}

@include xui-breakpoint-narrow {
	.#{$ns}-toast-layout {
		.#{$ns}-toast--close ~ .#{$ns}-toast--message {
			max-width: calc(100% - 50px);
		}
	}
}

.#{$ns}-toast-wrapper {
	bottom: 0;
	left: 0;
	position: fixed;

	@include xui-breakpoint-narrow {
		width: 100%;
	}
}

// Implementation
//
// Styleguide: Toast.2

// Simple
//
// * Always include a description
// * Always include a close button, unless itâ€™s a system error which persists indefinitely
// * Avoid long descriptions
//
// Markup:
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Image Uploaded</div>
// </div>
// <div class="xui-toast xui-toast-layout" role="status">
//   <div class="xui-toast--message">No connection</div>
// </div>
//
// Styleguide: Toast.2.1

// Actions
//
// Additional actions are optional (maximum of two, in addition to the close button)
// Actions should be related to the task at hand
//
// Markup:
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Item Updated</div>
//   <ul class="xui-toast--actions">
//     <li class="xui-toast--action">
//       <button type="button" class="xui-button xui-button-link xui-toast--link">Save as default</button>
//     </li>
//     <li class="xui-toast--action">
//       <a class="xui-toast--link" href="#ToastLink">Undo</a>
//     </li>
//   </ul>
// </div>
//
// Styleguide: Toast.2.2

// Toast Sentiment
//
// Toast sentiment via `xui-toast-positive` and `xui-toast-negative` has been deprecated.
//
// Styleguide: Toast.2.3

// Placement
//
// Use `xui-toast-wrapper` to position toast elements at the bottom-left corner of the screen.
// This class will ensure consistent positioning if toast positioning changes in the future.
//
// Markup:
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Item Updated</div>
//   <ul class="xui-toast--actions">
//     <li class="xui-toast--action">
//       <button type="button" class="xui-button xui-button-link xui-toast--link">Save as default</button>
//     </li>
//     <li class="xui-toast--action">
//       <a class="xui-toast--link" href="#ToastLink">Undo</a>
//     </li>
//   </ul>
// </div>
// <div class="xui-toast-wrapper">
//   <div class="xui-toast xui-toast-layout" role="alert">
//     <div class="xui-toast--message">Connection successful</div>
//   </div>
// </div>
//
// Styleguide: Toast.2.4

.#{$ns}-toast--message,
.#{$ns}-toast--actions,
.#{$ns}-toast--action {
	display: inline-block;
}

.#{$ns}-toast--message {
	float: left;
}

.#{$ns}-toast--close,
.#{$ns}-toast--actions {
	float: right;
}

.#{$ns}-toast--action {
	display: inline-block;
	font-weight: bold;
}

.#{$ns}-toast-is-hidden {
	@include xui-margin-vertical(0);
	@include xui-padding-vertical(0);
	height: 0;
	opacity: 0;
	overflow: hidden;
	pointer-events: none;
}

.#{$ns}-toast-list {
	color: $xui-color-white;
	list-style: disc;
}
