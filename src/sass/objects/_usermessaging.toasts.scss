@import "../vars";
@import "../mixins";

// Toasts
//
// Toast notifications are typically global. They are a system event which do not require immediate action.
// Unless the toast is an error toast, things will not fall apart if a user misses them or takes no action.
//
// #### Class Names
//
// `xui-toast`	Container for a toast
//
// `xui-toast--action`	Container for a toast action
//
// `xui-toast--actions`	Container for a group of toast actions
//
// `xui-toast--close`	Subcomponent for a toast close button
//
// `xui-toast--link`	Subcomponent for a toast link button
//
// `xui-toast--message`	Style for a toast message
//
// `xui-toast-is-hidden`	Hide the toast
//
// `xui-toast-layout`	Recommended layout for a toast
//
// `xui-toast-list`	Style for a description toast
//
// `xui-toast-negative`	Modifier for a negative highlight toast
//
// `xui-toast-positive`	Modifier for a positive highlight toast
//
// `xui-toast-wrapper`	Container for a group of toasts
//
// Styleguide: User Messaging.200

.#{$ns}-toast {
	@include xui-clearfix;
	background: transparentize($xui-color-white, 0.1);
	border: $xui-border-standard;
	border-radius: $xui-radius;
	box-shadow: $xui-shadow-depth-2;
	color: $xui-color-primary-text;
	max-width: 400px;
	opacity: 1;
	position: relative;
	transition: opacity $xui-transition-duration-short $xui-easing-standard;
	z-index: 10;
}

.#{$ns}-toast::before {
	background: transparent;
	border-radius: $xui-radius 0 0 $xui-radius;
	bottom: -1px;
	content: "";
	left: -1px;
	position: absolute;
	top: -1px;
	width: 4px;
}

.#{$ns}-toast-positive::before {
	background: $xui-color-xero-light-green;
}

.#{$ns}-toast-negative::before {
	background: $xui-color-xero-red;
}

.#{$ns}-toast-layout {
	@include xui-margin($xui-s-large);
	@include xui-padding($xui-s-small);
	@include xui-breakpoint-narrow {
		border-bottom: 0;
		border-left: 0;
		border-radius: 0;
		border-right: 0;
		margin: 0;
		max-width: none;
		width: 100%;

		&::before {
			border-radius: 0;
		}

		.#{$ns}-toast--close ~ .#{$ns}-toast--message {
			max-width: calc(100% - 80px);
		}
	}

	.#{$ns}-toast--close {
		@include xui-margin-vertical(-2px);
	}

	.#{$ns}-toast--message {
		@include xui-margin-horizontal($xui-s-small);
		@include xui-margin-vertical($xui-s-xsmall);
	}

	.#{$ns}-toast--actions {
		margin: 0;
		padding: 0;
	}

	.#{$ns}-toast--link {
		@include xui-state-focus-transparent;
		display: inline-block;
		padding: $xui-s-actionlink;
	}

	.#{$ns}-toast--close ~ .#{$ns}-toast--message {
		max-width: 320px;
	}
}

@include xui-breakpoint-narrow {
	.#{$ns}-toast-layout {
		.#{$ns}-toast--close ~ .#{$ns}-toast--message {
			max-width: calc(100% - 50px);
		}
	}
}

.#{$ns}-toast-wrapper {
	bottom: 0;
	left: 0;
	position: fixed;

	@include xui-breakpoint-narrow {
		width: 100%;
	}
}

// Single-Action
//
// ### Accessibility
//
// **role="status**: Use the `status` role when you want to convey relevant advisory information that doesn't justify
// using the alert role. For further information, please refer to the [MDN documentation](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_status_role)
//
// Markup:
// <div class="xui-toast xui-toast-layout" role="status">
//   <div class="xui-toast--message">Toast Message</div>
//   <div class="xui-toast--actions">
//       <a class="xui-toast--action xui-toast--link" href="#ToastLink">Undo</a>
//   </div>
// </div>
//
// Styleguide: User Messaging.200.1

// Multi-Action
//
// Markup:
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-close" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Toast Message</div>
//   <ul class="xui-toast--actions">
//     <li class="xui-toast--action">
//       <button type="button" class="xui-button xui-button-link xui-toast--link">Undo</button>
//     </li>
//     <li class="xui-toast--action">
//       <a class="xui-toast--link" href="#ToastLink">Back to Invoices</a>
//     </li>
//   </ul>
// </div>
//
// Styleguide: User Messaging.200.2

// Toast Sentiment
//
// Toast sentiment classes should be used sparingly, only used when there is a positive or negative message being conveyed to the user. The classes to apply for adding sentiment are `xui-toast-positive` and `xui-toast-negative`.
//
// ### Positive
//
// <div class="xui-toast xui-toast-layout xui-toast-positive" role="alert">
//   <div class="xui-toast--message">Connection successful</div>
// </div>
//
// ### Negative
//
// Markup:
// <div class="xui-toast xui-toast-layout xui-toast-negative" role="alert">
//   <div class="xui-toast--message">No internet connection</div>
// </div>
//
// ### Accessibility
//
// **role="alert"**: It is recommended to use the `alert` role when using the error variant.
// `role="alert"` is limited to important and usually time-sensitive messages. Use only when you want to draw
// the users attention to the toast when you require their immediate attention. For further information, please
// refer to the [MDN documentation](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_alert_role)
//
// Styleguide: User Messaging.200.3.2

// Placement
//
// The class `xui-toast-wrapper` is provided to properly position toast elements. It will place them at the bottom-left corner of the screen.
// For the purpose of unifomity through Xero, it would be best to use this class and keep the standard positioning.
//
// To see how this will look on an actual page, toggle off the `position: relative` override which is set on the wrapper for these docs.
//
// Markup:
//  <div class="xui-toast-wrapper">
//    <div class="xui-toast xui-toast-layout xui-toast-positive" role="alert">
//      <div class="xui-toast--message">Connection successful</div>
//    </div>
//    <div class="xui-toast xui-toast-layout xui-toast-negative" role="alert">
//      <div class="xui-toast--message">No internet connection</div>
//    </div>
//    <div class="xui-toast xui-toast-layout" role="status">
//      <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//        <svg class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-close" role="presentation" /></svg>
//      </button>
//      <div class="xui-toast--message">Toast Message</div>
//      <ul class="xui-toast--actions">
//        <li class="xui-toast--action">
//          <button type="button" class="xui-button xui-button-link xui-toast--link">Undo</button>
//        </li>
//        <li class="xui-toast--action">
//          <a class="xui-toast--link" href="#ToastLink">Back to Invoices</a>
//        </li>
//      </ul>
//    </div>
//  </div>
//
// Styleguide: User Messaging.200.3

.#{$ns}-toast--action {
	@include xui-bold;
}

.#{$ns}-toast--message,
.#{$ns}-toast--actions,
.#{$ns}-toast--action {
	display: inline-block;
}

.#{$ns}-toast--close,
.#{$ns}-toast--actions {
	float: right;
}

.#{$ns}-toast--action {
	display: inline-block;
}

.#{$ns}-toast-is-hidden {
	@include xui-margin-vertical(0);
	@include xui-padding-vertical(0);
	height: 0;
	opacity: 0;
	overflow: hidden;
	pointer-events: none;
}

.#{$ns}-toast-list {
	color: $xui-color-white;
	list-style: disc;
}
