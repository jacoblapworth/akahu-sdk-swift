@import "../vars";
@import "../mixins";

// Toasts
//
// Weight: 4.25
//
// Styleguide: Toast

// Best Practice
//
// Markdown: building-blocks/toasts.md
//
// Styleguide: Toast.1

// CSS Class Reference
//
// Classes:
// xui-toast: Container for a toast
// xui-toast--action: Container for a toast action
// xui-toast--actions: Container for a group of toast actions
// xui-toast--close: Subcomponent for a toast close button
// xui-toast--message: Style for a toast description
// xui-toast-is-hidden: Hide the toast
// xui-toast-layout: Recommended layout for a toast
// xui-toastwrapper: Positions toast in bottom left corner of viewport
// xui-toast-positive: Positive sentiment
// xui-toast-negative: Negative sentiment
//
// Styleguide: Toast.10

// Deprecated CSS Classes
//
// <img src="https://img.shields.io/badge/Deprecated%20in-10.22.0-%23f6534e.svg" />
// <img src="https://img.shields.io/badge/Removed%20in-12.0.0-lightgrey.svg" />
//
// Classes:
// xui-toast-wrapper: Container for a group of toasts - use `xui-toastwrapper` instead.
// xui-toast-list: Bulleted list toasts
//
// Styleguide: Toast.11

// Additional Deprecations
//
// ![](https://img.shields.io/badge/Deprecated%20in-11.0.2-%23f6534e.svg)
// ![](https://img.shields.io/badge/Removed%20in-12.0.0-lightgrey.svg)
//
// Classes:
// xui-toast--link: Styling for toast link. Use `xui-button-borderless-main` and `xui-button-small`
//
// Styleguide: Toast.11.1

.#{$ns}-toast {
	@include xui-clearfix;
	@include xui-box-shadow-border($xui-shadow-depth-lift);
	background: transparentize($xui-color-white, 0.1);
	border-radius: $xui-radius;
	color: $xui-color-grey-1;
	display: inline-block;
	max-width: 400px;
	opacity: 1;
	position: relative;
	transition: opacity $xui-motion-speed-fast $xui-motion-curve-standard;
	z-index: 10;
	@include xui-breakpoint-narrow {
		border-radius: 0;
	}
}

.#{$ns}-toast-layout {
	@include xui-margin($xui-s-large);
	@include xui-padding($xui-s-small);
	@include xui-breakpoint-narrow {
		margin: 0;
		max-width: none;
		width: 100%;

		&::before {
			border-radius: 0;
		}

		.#{$ns}-toast--close ~ .#{$ns}-toast--message {
			max-width: calc(100% - 80px);
		}
	}

	.#{$ns}-toast--message {
		@include xui-margin-horizontal($xui-s-small);
		@include xui-margin-vertical($xui-s-xsmall);
	}

	.#{$ns}-toast--actions {
		margin: 0;
		padding: 0;
	}

	.#{$ns}-toast--close ~ .#{$ns}-toast--message {
		max-width: 320px;
	}
}

@include xui-breakpoint-narrow {
	.#{$ns}-toast-layout {
		.#{$ns}-toast--close ~ .#{$ns}-toast--message {
			max-width: calc(100% - 50px);
		}
	}
}

.#{$ns}-toastwrapper {
	bottom: 0;
	left: 0;
	position: fixed;

	@include xui-breakpoint-narrow {
		width: 100%;
	}
}

// Implementation
//
// Components: Toast
//
// Styleguide: Toast.2

// Standard
//
// * Always include a description
// * Always include a close button
// * Avoid long descriptions
//
// Use `xui-toastwrapper` to position toast elements at the bottom-left corner of the screen.
// This class will ensure consistent positioning if toast positioning changes in the future.
//
// Markup:
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Invoice deleted</div>
// </div>
//
// Styleguide: Toast.2.1

// System messages
//
// * System messages persist indefinitely, and don't have a close button.
//
// Markup:
// <div class="xui-toast xui-toast-layout" role="status">
//   <div class="xui-toast--message">No connection</div>
// </div>
// <br>
//
// Styleguide: Toast.2.2

// Actions
//
// * Additional actions are optional (maximum of two, in addition to the close button)
// * Actions should be related to the task at hand
// * Layout adjusts based on length of description
//
// Markup:
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Short description</div>
//   <ul class="xui-toast--actions">
//     <li class="xui-toast--action">
//       <button type="button" class="xui-button xui-button-borderless-main xui-button-small">Action</button>
//     </li>
//   </ul>
// </div>
// <br>
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Avoid long descriptions. However, it's helpful to know that text does wrap by default.</div>
//   <ul class="xui-toast--actions">
//     <li class="xui-toast--action">
//       <button type="button" class="xui-button xui-button-borderless-main xui-button-small">Action</button>
//     </li>
//   </ul>
// </div>
// <br>
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Short description</div>
//   <ul class="xui-toast--actions">
//     <li class="xui-toast--action">
//       <button type="button" class="xui-button xui-button-borderless-main xui-button-small">Action</button>
//     </li>
//     <li class="xui-toast--action">
//       <a class="xui-button xui-button-borderless-main xui-button-small" href="#ToastLink">Action</a>
//     </li>
//   </ul>
// </div>
// <br>
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Avoid long descriptions.  However, it's helpful to know that text does wrap by default.</div>
//   <ul class="xui-toast--actions">
//     <li class="xui-toast--action">
//       <button type="button" class="xui-button xui-button-borderless-main xui-button-small">Action</button>
//     </li>
//     <li class="xui-toast--action">
//       <a class="xui-button xui-button-borderless-main xui-button-small" href="#ToastLink">Action</a>
//     </li>
//   </ul>
// </div>
//
// Styleguide: Toast.2.3

// Toast Sentiment
//
// * Toast sentiment classes should be restricted to events such as network connection errors.
// * Do not use them for form validation.
//
// ### Positive
//
// <div class="xui-toast xui-toast-layout xui-toast-positive" role="alert">
//   <div class="xui-toast--message">Connection successful</div>
// </div>
//
// ### Negative
//
// Markup:
// <div class="xui-toast xui-toast-layout xui-toast-negative" role="alert">
//   <div class="xui-toast--message">No internet connection</div>
// </div>
//
// ### Accessibility
//
// **role="alert"**: It is recommended to use the `alert` role when using the error variant.
// `role="alert"` is limited to important and usually time-sensitive messages. Use only when you want to draw
// the users attention to the toast when you require their immediate attention. For further information, please
// refer to the [MDN documentation](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_alert_role)
//
// Styleguide: Toast.2.4

// Placement
//
// Use `xui-toastwrapper` to position toast elements at the bottom-left corner of the screen.
// This class will ensure consistent positioning if toast positioning changes in the future.
//
// Markup:
// <div class="xui-toast xui-toast-layout" role="status">
//   <button type="button" class="xui-button xui-button-icon xui-toast--close" title="Close" aria-label="Close">
//     <svg focusable="false" class="xui-icon" title="Close" aria-label="Close"> <use xlink:href="#xui-icon-cross" role="presentation" /></svg>
//   </button>
//   <div class="xui-toast--message">Image uploaded</div>
// </div>
//
// Styleguide: Toast.2.5

.#{$ns}-toast--message,
.#{$ns}-toast--actions,
.#{$ns}-toast--action {
	display: inline-block;
}

.#{$ns}-toast--message {
	float: left;
}

.#{$ns}-toast--close,
.#{$ns}-toast--actions {
	float: right;
}

.#{$ns}-toast--action {
	display: inline-block;
	font-weight: bold;
}

.#{$ns}-toast-is-hidden {
	@include xui-margin-vertical(0);
	@include xui-padding-vertical(0);
	height: 0;
	opacity: 0;
	overflow: hidden;
	pointer-events: none;
}
