/**
 * A collection of mixins for the Xero design.
 */

@import "functions";

@mixin xui-clearfix {
	&::after {
		clear: both;
		content: "";
		display: table;
	}
}

// Center components horizontally while allowing them to set
// their own vertical margins
@mixin xui-margin-auto-horizontal {
	margin-left: auto;
	margin-right: auto;
}

// GROUP APPLICATION
// -----------------------------------------------------------------------------

// Apply the given rules to all but the first element in a group
@mixin xui-all-but-first {
	&:nth-child(n+2) {
		@content;
	}
}

// Apply the given rules to all but the first element of its type in a group
@mixin xui-all-but-first-of-type {
	&:nth-of-type(n+2) {
		@content;
	}
}

// Apply the given rules to all but the last element in a group
@mixin xui-all-but-last {
	&:nth-last-child(n+2) {
		@content;
	}
}

// Apply the given rules to all but the last element of its type in a group
@mixin xui-all-but-last-of-type {
	&:nth-last-of-type(n+2) {
		@content;
	}
}

// RESPONSIVE
// -----------------------------------------------------------------------------
// At the moment, design has hard breakpoints for the various form factors, and
// a vastly different design for mobile.  This makes the mobile-first approach
// difficult to implement as the majority of design choices are desktop-first,
// with mobile exceptions.

$xui-breakpoint-narrow: 520px;
$xui-breakpoint-medium: 940px;
$xui-breakpoint-wide: 1160px;

@mixin xui-breakpoint-narrow {
	@media screen and (max-width: $xui-breakpoint-narrow) {
		@content;
	}
}

@mixin xui-breakpoint-medium {
	@media screen and (min-width: $xui-breakpoint-narrow) and (max-width: $xui-breakpoint-medium) {
		@content;
	}
}

@mixin xui-breakpoint-wide {
	@media screen and (min-width: $xui-breakpoint-medium){
		@content;
	}
}
// Other Mixin utilities

@mixin xui-caret($color: $xui-color-border) {
	border-color: $color;
	border-left: 4px solid transparent;
	border-right: 4px solid transparent;
	border-top: 4px dashed;
	color: $color;
	display: inline-block;
	height: 0;
	width: 0;
}

@mixin xui-font-smooth {
	-webkit-font-smoothing: antialiased;
	font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

@mixin xui-bold {
	@include xui-font-smooth;
	font-weight: bold;
}
