/**
 * A collection of mixins for the Xero design.
 */

@import "functions";

@mixin clearfix {
	&::after {
		clear: both;
		content: "";
		display: table;
	}
}

// Center components horizontally while allowing them to set
// their own vertical margins
@mixin margin-auto-horizontal {
	margin-left: auto;
	margin-right: auto;
}

// GROUP APPLICATION
// -----------------------------------------------------------------------------

// Apply the given rules to all but the first element in a group
@mixin all-but-first {
	&:nth-child(n+2) {
		@content;
	}
}

// Apply the given rules to all but the first element of its type in a group
@mixin all-but-first-of-type {
	&:nth-of-type(n+2) {
		@content;
	}
}

// Apply the given rules to all but the last element in a group
@mixin all-but-last {
	&:nth-last-child(n+2) {
		@content;
	}
}

// Apply the given rules to all but the last element of its type in a group
@mixin all-but-last-of-type {
	&:nth-last-of-type(n+2) {
		@content;
	}
}

// RESPONSIVE
// -----------------------------------------------------------------------------
// At the moment, design has hard breakpoints for the various form factors, and
// a vastly different design for mobile.  This makes the mobile-first approach
// difficult to implement as the majority of design choices are desktop-first,
// with mobile exceptions.

$mobile-breakpoint: px-to-rem(520);
$tablet-breakpoint: px-to-rem(940);
$desktop-breakpoint: px-to-rem(1160);

// Mobile is a subset of tablet
@mixin mobile {
	@media screen and (max-width: $mobile-breakpoint) {
		@content;
	}
}

// Tablet is a subset of desktop
@mixin tablet {
	@media screen and (min-width: $mobile-breakpoint) and (max-width: $tablet-breakpoint) {
		@content;
	}
}

// Desktop is a subset of full width
@mixin desktop {
	@media screen and (min-width: $tablet-breakpoint) and (max-width: $desktop-breakpoint) {
		@content;
	}
}

// Other Mixin utilities

@mixin caret($color: $color-borders) {
	border-color: $color;
	border-left: 4px solid transparent;
	border-right: 4px solid transparent;
	border-top: 4px dashed;
	color: $color;
	display: inline-block;
	height: 0;
	width: 0;
}

@mixin font-smooth {
	-webkit-font-smoothing: antialiased;
	font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

@mixin xui-bold {
	@include font-smooth;
	font-weight: bold;
}
