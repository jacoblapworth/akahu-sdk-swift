/**
 * A collection of general-purpose utility rules.
 */

@import "../mixins";
@import "../vars";

// Utility classes
//
// Weight: 2.9
//
// Styleguide: Utilities

// Deprecated
//
// Styleguide: Utilities.10

// Display
//
// Classes that can be added to any element to hide it from view.
//
// Implementation of rules here are based on the A11Y Project's [How to Hide Content](http://a11yproject.com/posts/how-to-hide-content/).
//
// Classes:
// xui-u-hidden: Hide the element using `display` and `visibility` properties
// xui-u-hidden-mobile: Hide the element on mobile only using `display` property
// xui-u-hidden-visually: Hide the element using `width` and `height` properties
//
// Markup:
//  <section class="xui-u-container xui-u-hidden">hidden</section>
//  <section class="xui-u-container xui-u-hidden-visually">hidden visually</section>
//  <section class="xui-u-container xui-u-hidden-mobile">hidden on mobile</section>
//
// Styleguide: Utilities.1

// scss-lint:disable ImportantRule
.#{$ns}-u-hidden {
	display: none !important;
	// Screen readers sometimes ignore display:none as per
	// http://www.456bereastreet.com/archive/200711/screen_readers_sometimes_ignore_displaynone/
	visibility: hidden !important;
}

.#{$ns}-u-hidden-visually {
	@include xui-utility-hidden-visually;
}

// scss-lint:disable ImportantRule
.#{$ns}-u-hidden-mobile {
	@include xui-breakpoint-narrow {
		display: none !important;
	}
}

.#{$ns}-u-hidden-mobile-up {
	@include xui-breakpoint-narrow-up {
		display: none !important;
	}
}

// Overflow
//
// The overflow property specifies whether to clip content, render scrollbars or just display content when it overflows its block level container.
//
// Classes:
// xui-u-overflow-hidden: Content is clipped, with no scrollbars
//
// Markup:
// <section class="xui-u-overflow-hidden" style="height:62px">
//   <p>
//     The utility classes, like the grid system and now the margin/padding classes, provide atomic control but don't come with (and can't come with) any consideration for a consistent approach to responsive design.
//     You end up with needing extra classes to define when and how the grid should decompose and extra classes to define when and how margins and padding should shift for various viewports.
//   </p>
//
//   <p>
//     Any design changes can also no longer be easily updated across all parts of the app that use XUI since layout and margin/padding decisions have been pushed off to individual teams/pages.
//     (I'm also unsure how this works when implementing React components. Is there configuration in each component to determine which margin/padding to use?)
//   </p>
// </section>
//
// Styleguide: Utilities.1.1

.#{$ns}-u-overflow-hidden {
	overflow: hidden !important;
}

// Flex
//
// Flex classes can be used to create flexible mutli-column layouts.
//
// Classes:
// xui-u-flex: Applies `display: flex` to an element
// xui-u-flex-inline: Applies `display: inline-flex` to an element
// xui-u-flex-none: Applies `flex: none` to an element
// xui-u-flex-horizontal: Modifier to display child items in a horizontal order
// xui-u-flex-vertical: Modifier to display child items in a vertical order
// xui-u-flex-verticallycentered: Modifier to display child items vertically centered
// xui-u-flex-grow: Modifier for a flex child which fills remaining space
// xui-u-flex-verticalalign-center: Modifier for a column-orientated flex box parent
// xui-u-flex-inherit: Inherit flex properties. Firefox does not handle display: flex on buttons, so this can be applied to a child wrapper node inside the button element to achieve the desired effect.
//
// Markup:
// <div class="xui-panel">
//   <header class="xui-panel--header xui-u-flex xui-u-flex-verticallycentered xui-padding">
//     <h3 class="xui-panel--heading xui-panel-title xui-u-flex-col xui-u-flex-grow">Panel Header</h3>
//     <button type="button" class="xui-button xui-button-standard xui-u-flex-col">Button</button>
//   </header>
// </div>
// <br />
// <div class="xui-u-flex">
//   <div class="xui-panel xui-u-flex xui-u-flex-vertical">
//     <div class="xui-panel--header">Header</div>
//     <div class="xui-panel--section">Content</div>
//     <div class="xui-panel--footer">Footer</div>
//   </div>
//   <div class="xui-panel xui-u-flex xui-u-flex-vertical xui-u-flex-grow">
//     <div class="xui-panel--header">Header</div>
//     <div class="xui-panel--section">Content</div>
//     <div class="xui-panel--footer">Footer</div>
//   </div>
//   <div class="xui-panel xui-u-flex xui-u-flex-vertical">
//     <div class="xui-panel--header">Header</div>
//     <div class="xui-panel--section">Content</div>
//     <div class="xui-panel--footer">Footer</div>
//   </div>
// </div>
//
// Styleguide: Utilities.2

// Deprecated flex utility classes
//
// ![](https://img.shields.io/badge/Deprecated%20in-10.22.0-%23f6534e.svg)
// ![](https://img.shields.io/badge/Removed%20in-12.0.0-lightgrey.svg)
//
// Classes:
// xui-u-flex-row: Use xui-u-flex-verticallycentered instead
// xui-u-flex-col: Use xui-u-flex-horizontal instead
//
// Styleguide: Utilities.10.1

.#{$ns}-u-flex {
	display: flex;
}

.#{$ns}-u-flex-inline {
	display: inline-flex;
}

.#{$ns}-u-flex-none {
	flex: none;
}

// TODO: xui-u-flex-row class name makes little sense. Update or remove for next breaking change.
.#{$ns}-u-flex-row,
.#{$ns}-u-flex-verticallycentered {
	align-items: center;
}

.#{$ns}-u-flex-col,
.#{$ns}-u-flex-horizontal {
	flex-direction: row;
}

.#{$ns}-u-flex-vertical {
	flex-direction: column;
}

.#{$ns}-u-spacebetween {
	justify-content: space-between;
}

.#{$ns}-u-flex-1 {
	flex: 1;
}

.#{$ns}-u-flex-grow {
	flex-basis: auto;
	flex-grow: 1;
}

// TODO: Revisit this class - better as separate utility classes?
.#{$ns}-u-flex-verticalalign-center {
	flex-direction: column;
	justify-content: center;
}

.#{$ns}-u-flex-inherit {
	align-items: inherit;
	display: inherit;
	flex-direction: inherit;
	justify-content: inherit;
	width: inherit; // For IE11 and Chrome
}


// Full Width
//
// Sometimes you want an element to have full width.
//
// Classes:
// xui-u-fullwidth: Modifier for a full-width element
//
// Markup:
// <div>
//   <span class="xui-button xui-button-standard xui-u-fullwidth">Wide</span>
// </div>
//
// Styleguide: Utilities.3

.#{$ns}-u-fullwidth {
	display: block;
	width: 100%;
}

// Preventing Selection
//
// For textual elements where the user could perform multiple clicks in quick succession, the browser
// may end up highlighting the text (interpreting a double click as an instruction to select
// the surrounding text). If this behaviour is undesirable, use `xui-u-noselect`.
//
// Classes:
// xui-u-noselect: Modifier for an element that should not allow user selection
//
// Markup:
// <p class="xui-u-noselect">Text <span class="xui-caret"></span></p>
//
// Styleguide: Utilities.5

.#{$ns}-u-noselect {
	user-select: none;
}

// Resizing
//
// May be applied to elements to disable resize attributes. The primary use for this is for textarea, but has been added as a utility as resize can be applied to several other
// elements.
//
// Classes:
// xui-u-resize-none: Modifier to disable resizing completely
// xui-u-resize-vertical: Modifier to enable vertical resizing and disable horizontal resizing
//
// Markup:
// <div>
//   <textarea class="xui-input xui-u-resize-none">Not resizable</textarea>
//   <textarea class="xui-input xui-u-resize-vertical">Vertically resizable</textarea>
// </div>
//
// Styleguide: Utilities.7

.#{$ns}-u-resize-none {
	resize: none;
}

.#{$ns}-u-resize-vertical {
	resize: vertical;
}
